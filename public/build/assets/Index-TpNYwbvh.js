import{d as Ne,r as c,s as Be,c as _,L as Le,x as Oe,w as z,H as ze,y as Ge,b as g,o as l,e as i,f as m,g as t,z as w,u as n,h as He,k as v,i as u,n as fe,_ as P,j as d,v as k,F as T,m as G,t as o,A as We,N as ge,l as Q,W as H}from"./app-0hD9jktS.js";import{F as qe,l as Xe}from"./style-BhhzWR2R.js";import{d as xe,e as Je,_ as Ke}from"./AppLayout.vue_vue_type_script_setup_true_lang-C_OfVMdc.js";import{_ as Qe}from"./BaseDataTable.vue_vue_type_style_index_0_lang-CTigQWSr.js";import{_ as be}from"./Icon.vue_vue_type_script_setup_true_lang-DgG5U0yt.js";import{u as Ye}from"./school-SWVnhMs_.js";import{a as ye,_ as ke}from"./AvatarImage.vue_vue_type_script_setup_true_lang-DLhJV-ve.js";import{_ as Ze,a as et}from"./PasswordVerificationModal-DZybDfO-.js";import{P as tt}from"./plus-DX8dkZyx.js";import{E as st}from"./eye-Dtz9j6o0.js";import{E as rt}from"./eye-off-B84CHv0x.js";import{_ as at}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./RovingFocusGroup-BrsbekXI.js";import"./AppLogo.vue_vue_type_script_setup_true_lang-DV00-4L5.js";import"./building-2-0J7JWYjO.js";import"./users-CQiJNf1m.js";import"./chevron-down-Bc9-FnA7.js";import"./check-DytFQTDT.js";import"./loader-circle-Dg-d1WoA.js";import"./target-nv-k3IQz.js";import"./triangle-alert-dLAnWNBM.js";import"./refresh-cw-DBp2ONfo.js";import"./save-DvCxJJrq.js";import"./arrow-right-yGz9ZWmd.js";import"./arrow-left-B5cZ3DqQ.js";import"./shield-BxF9Ptyz.js";import"./square-pen-QEAPgpV6.js";import"./info-DWKpZpD6.js";import"./calendar-DjniW4jB.js";import"./house-D65vkcx-.js";import"./book-open-Dculjk7S.js";import"./trash-hGn8IamB.js";const lt={class:"max-w-full mx-auto w-full px-2 sm:px-4 md:px-6 lg:px-8 py-8"},ot={class:"mb-6"},nt={class:"relative max-w-md"},it={class:"flex lg:hidden justify-between items-center mb-4"},dt={class:"grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-4 mb-6 items-end hidden lg:grid"},ut={class:"flex flex-col"},pt={class:"flex flex-col"},ct={class:"flex flex-col"},mt={class:"flex flex-col"},vt=["disabled"],ft=["value"],gt={class:"flex flex-col"},xt={class:"flex items-center gap-2 min-w-0"},bt={class:"truncate"},yt={class:"truncate block max-w-[200px] sm:max-w-none"},kt={class:"flex flex-wrap gap-1"},ht={class:"truncate block max-w-[120px] sm:max-w-none"},_t={class:"truncate block max-w-[120px] sm:max-w-none"},wt={key:0,class:"inline-block bg-purple-100 dark:bg-purple-900 text-purple-800 dark:text-purple-200 rounded-full px-2 py-0.5 text-xs font-semibold"},Ct={key:1},St=["onClick"],Pt=["onClick"],Tt=["onClick"],At={key:0,class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Vt={key:1,class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},$t={key:0,class:"bg-white dark:bg-neutral-900 rounded-xl shadow p-6 border border-gray-200 dark:border-gray-700"},jt={class:"flex flex-col md:flex-row md:items-center md:justify-between gap-4 pb-4 border-b border-gray-100 dark:border-gray-800"},Ft={class:"flex items-center gap-4"},Ut={class:"text-xl font-semibold text-gray-900 dark:text-white"},Dt={class:"text-sm text-gray-500 dark:text-gray-400"},Mt={class:"text-xs text-gray-400 dark:text-gray-500"},Et={class:"flex flex-col items-center gap-2 flex-1"},It={class:"flex flex-wrap gap-2 justify-center"},Rt={key:0,class:"inline-block bg-purple-100 dark:bg-purple-900 text-purple-800 dark:text-purple-200 rounded-full px-3 py-1 text-xs font-semibold"},Nt={class:"flex gap-2 items-center"},Bt={class:"grid grid-cols-1 md:grid-cols-3 gap-6 pt-4"},Lt={class:"text-sm text-gray-700 dark:text-gray-200"},Ot={class:"text-sm text-gray-700 dark:text-gray-200"},zt={class:"text-sm text-gray-700 dark:text-gray-200"},Gt={class:"text-sm text-gray-700 dark:text-gray-200"},Ht={class:"text-sm text-gray-700 dark:text-gray-200"},Wt={class:"text-sm text-gray-700 dark:text-gray-200"},qt={class:"text-sm text-gray-700 dark:text-gray-200"},Xt={class:"text-sm text-gray-700 dark:text-gray-200"},Jt={class:"text-sm text-gray-700 dark:text-gray-200"},Kt={class:"text-sm text-gray-700 dark:text-gray-200"},Qt={class:"text-sm text-gray-700 dark:text-gray-200"},Yt={class:"text-sm text-gray-700 dark:text-gray-200"},Zt={class:"text-sm text-gray-700 dark:text-gray-200"},es={class:"flex items-center gap-2"},ts={class:"text-gray-700 dark:text-gray-200"},ss=["onClick"],rs={key:2,class:"w-5 h-5 animate-spin",fill:"none",viewBox:"0 0 24 24"},as={class:"flex gap-2 justify-end"},ls={class:"sheet-content dark:bg-neutral-900"},os={class:"flex flex-col gap-4"},ns={class:"flex flex-col"},is={class:"flex flex-col"},ds={class:"flex flex-col"},us={class:"flex flex-col"},ps={class:"flex flex-col"},cs=["disabled"],ms=["value"],vs=Ne({__name:"Index",setup(fs){var oe;const Y=c();function he(){var r;(r=Y.value)==null||r.open()}const Z=()=>{B.value=!1,K.value=void 0},W=Be(),q=_(()=>W.props.teachers),D=W.props.filters||{},M=_(()=>W.props.auth||{}),ee=Ye(),{schools:X,selectedSchool:b}=Le(ee),a=Oe({role:D.role||"",gender:D.gender||"",status:D.status||"",search:D.search||"",school_id:((oe=b.value)==null?void 0:oe.id)||"",page:1,per_page:12}),C=c(!1),x=c({page:1,rowsPerPage:12,sortBy:"",sortType:"",search:"",filters:{}});z(()=>q.value,r=>{r&&r.current_page&&(x.value.page=r.current_page,x.value.rowsPerPage=r.per_page||12)},{immediate:!0});const _e=_(()=>{var r;return((r=q.value)==null?void 0:r.total)||0});_(()=>({page:x.value.page,perPage:x.value.rowsPerPage}));const S=c(null),A=c(!1),E=c(null),h=c({}),I=c({}),R=c({}),V=c({}),te=c(!1),we=c("Password Error"),Ce=c(""),N=c(!1),J=c(void 0),K=c(void 0),B=c(!1),Se=[{text:"Name",value:"name"},{text:"Email",value:"email"},{text:"CNIC",value:"cnic"},{text:"Role",value:"role"},{text:"Gender",value:"gender"},{text:"Phone",value:"phone_number"},{text:"School",value:"school_id"},{text:"Status",value:"status"},{text:"Actions",value:"actions",sortable:!1}],Pe=[{title:"Dashboard",href:"/"},{title:"Teachers",href:"/teachers"}],se=_(()=>{var r;return((r=M.value.user)==null?void 0:r.schools)||[]}),L=_(()=>{var r;return se.value.length===1&&!((r=M.value.user)!=null&&r.isSuperAdmin)});ze(()=>{var r;X.value.length||ee.fetchSchools(),L.value?a.school_id=se.value[0].id:(r=b.value)!=null&&r.id&&(a.school_id=b.value.id)});function Te(r){const e=r.id;if(h.value[e]){h.value[e]=!1,I.value[e]="",V.value[e]&&(clearTimeout(V.value[e]),delete V.value[e]);return}K.value=r,B.value=!0}const Ae=async()=>{const r=K.value;if(!r){Q.error("No teacher selected.");return}const e=r.id;R.value[e]=!0;try{const s=await(await fetch(`/teachers/get-password/${e}`,{headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}})).json();s&&s.password?(I.value[e]=s.password,h.value[e]=!0,V.value[e]=setTimeout(()=>{h.value[e]=!1,I.value[e]="",delete V.value[e]},3e5)):Q.error((s==null?void 0:s.error)||"Failed to retrieve password.")}catch{Q.error("Failed to retrieve password.")}finally{R.value[e]=!1,Z()}};let O;["role","gender","status","school_id"].forEach(r=>{z(()=>a[r],()=>{clearTimeout(O),O=setTimeout(()=>{y()},500)})}),z(x,y,{deep:!0}),z(()=>{var r;return(r=b.value)==null?void 0:r.id},r=>{r&&(!L.value||a.school_id!==r)&&(a.school_id=r,y())});function y(){var r,e;C.value=!0,!((r=M.value.user)!=null&&r.isSuperAdmin)&&((e=b.value)!=null&&e.id)&&(a.school_id=b.value.id),a.page=x.value.page,a.per_page=x.value.rowsPerPage,a.get("/teachers",{preserveState:!0,preserveScroll:!0,onFinish:()=>C.value=!1})}function Ve(r){S.value=S.value===r.id?null:r.id}function $e(r){var e;H.visit(`/teachers/${r}/edit?school_id=${((e=b.value)==null?void 0:e.id)||""}`)}function je(r){E.value=r,A.value=!0}function re(){E.value&&(C.value=!0,H.delete(`/teachers/${E.value}`,{preserveState:!0,onSuccess:()=>{A.value=!1,E.value=null,C.value=!1},onError:()=>{C.value=!1}}))}function ae(){var r;H.visit(`/teachers/create?school_id=${((r=b.value)==null?void 0:r.id)||""}`,{preserveScroll:!0,preserveState:!0,onFinish:()=>{console.log("finish")}})}function Fe(r){y()}function le(r){return r.split(" ").map(e=>e.charAt(0)).join("").toUpperCase().slice(0,2)}const Ue=_(()=>{var r,e;return(e=(r=M.value.user)==null?void 0:r.roles)==null?void 0:e.some(f=>f.name==="admin"||f.name==="superadmin")});function De(r){H.post(`/teachers/${r}/approve`,{},{preserveState:!0,onSuccess:()=>y()})}function Me(r){clearTimeout(O),O=setTimeout(()=>{y()},500)}function Ee(){a.search="",y()}function Ie(r){J.value=r,N.value=!0}function Re(){N.value=!1,J.value=void 0,y()}return(r,e)=>{const f=Ge("can");return l(),g(Ke,{breadcrumbs:Pe},{default:i(()=>[m(n(He),{title:"Teachers"}),t("div",lt,[e[51]||(e[51]=t("h1",{class:"text-2xl font-bold mb-6 text-gray-900 dark:text-gray-100"},"Teachers",-1)),t("div",ot,[t("div",nt,[e[17]||(e[17]=t("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[t("svg",{class:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1)),v(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>n(a).search=s),type:"text",placeholder:"Search teachers by name, email, CNIC, contact...",class:"block w-full pl-10 pr-10 py-2.5 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-neutral-900 text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-1 focus:ring-primary-500 focus:border-primary-500 transition-colors duration-200 text-sm",onInput:Me},null,544),[[fe,n(a).search]]),n(a).search?(l(),u("button",{key:0,onClick:Ee,class:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors"},e[16]||(e[16]=[t("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))):w("",!0)])]),t("div",it,[v((l(),g(P,{variant:"default",class:"h-10",onClick:ae},{default:i(()=>[m(n(tt),{class:"w-4 h-4 mr-2"}),e[18]||(e[18]=d(" Add Teacher "))]),_:1,__:[18]})),[[f,"create-teachers"]]),t("button",{onClick:he,class:"flex items-center gap-2 p-2 rounded-full bg-primary-100 dark:bg-primary-900 hover:bg-primary-200 dark:hover:bg-primary-800 shadow transition",title:"Show filters for teacher records"},[m(n(qe),{class:"w-6 h-6 text-primary-700 dark:text-primary-200"}),e[19]||(e[19]=t("span",{class:"text-primary-700 dark:text-primary-200 font-medium text-base"},"Filters",-1))])]),t("div",dt,[t("div",ut,[e[21]||(e[21]=t("label",{for:"role",class:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1"},"Role",-1)),v(t("select",{id:"role","onUpdate:modelValue":e[1]||(e[1]=s=>n(a).role=s),class:"w-full border border-gray-300 dark:border-gray-600 rounded px-2 py-1 bg-white dark:bg-neutral-900"},e[20]||(e[20]=[t("option",{value:""},"All",-1),t("option",{value:"teacher"},"Teacher",-1),t("option",{value:"principal"},"Principal",-1)]),512),[[k,n(a).role]])]),t("div",pt,[e[23]||(e[23]=t("label",{for:"gender",class:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1"},"Gender",-1)),v(t("select",{id:"gender","onUpdate:modelValue":e[2]||(e[2]=s=>n(a).gender=s),class:"w-full border border-gray-300 dark:border-gray-600 rounded px-2 py-1 bg-white dark:bg-neutral-900"},e[22]||(e[22]=[t("option",{value:""},"All",-1),t("option",{value:"Male"},"Male",-1),t("option",{value:"Female"},"Female",-1)]),512),[[k,n(a).gender]])]),t("div",ct,[e[25]||(e[25]=t("label",{for:"status",class:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1"},"Status",-1)),v(t("select",{id:"status","onUpdate:modelValue":e[3]||(e[3]=s=>n(a).status=s),class:"w-full border border-gray-300 dark:border-gray-600 rounded px-2 py-1 bg-white dark:bg-neutral-900"},e[24]||(e[24]=[t("option",{value:""},"All",-1),t("option",{value:"pending"},"Pending",-1),t("option",{value:"approved"},"Approved",-1),t("option",{value:"rejected"},"Rejected",-1)]),512),[[k,n(a).status]])]),t("div",mt,[e[27]||(e[27]=t("label",{for:"school",class:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1"},"School",-1)),v(t("select",{id:"school","onUpdate:modelValue":e[4]||(e[4]=s=>n(a).school_id=s),disabled:L.value,class:"w-full border border-gray-300 dark:border-gray-600 rounded px-2 py-1 bg-white dark:bg-neutral-900"},[e[26]||(e[26]=t("option",{value:""},"All Schools",-1)),(l(!0),u(T,null,G(n(X),s=>(l(),u("option",{key:s.id,value:s.id},o(s.name),9,ft))),128))],8,vt),[[k,n(a).school_id]])]),t("div",gt,[v((l(),g(P,{variant:"default",class:"h-10",onClick:ae},{default:i(()=>e[28]||(e[28]=[d("Add Teacher")])),_:1,__:[28]})),[[f,"create-teachers"]])])]),m(Qe,{headers:Se,items:q.value.data,loading:C.value,"server-options":x.value,"server-items-length":_e.value,expandable:!0,"expand-row-keys":S.value?[S.value]:[],"onUpdate:serverOptions":e[5]||(e[5]=s=>Object.assign(x.value,s)),"table-class":"bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-700 rounded-lg shadow-md hover:shadow-lg transition-all min-w-full","row-class":"hover:bg-purple-50 dark:hover:bg-purple-900/60 transition cursor-pointer border-b border-neutral-100 dark:border-neutral-800"},{"item-name":i(s=>[t("div",xt,[m(ye,{class:"flex-shrink-0"},{default:i(()=>[s.profile_photo_url?(l(),g(ke,{key:0,src:s.profile_photo_url,alt:s.name},null,8,["src","alt"])):w("",!0),m(xe,null,{default:i(()=>[d(o(le(s.name)),1)]),_:2},1024)]),_:2},1024),t("span",bt,o(s.name),1)])]),"item-email":i(s=>[t("span",yt,o(s.email),1)]),"item-role":i(s=>[t("div",kt,[(l(!0),u(T,null,G(s.roles,p=>(l(),u("span",{key:p.id,class:"inline-block bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-200 rounded-full px-2 py-0.5 text-xs font-semibold"},o(p.name.charAt(0).toUpperCase()+p.name.slice(1)),1))),128))])]),"item-gender":i(s=>{var p;return[d(o(((p=s.teacher)==null?void 0:p.gender)||"-"),1)]}),"item-cnic":i(s=>{var p;return[t("span",ht,o(((p=s.teacher)==null?void 0:p.cnic)||"-"),1)]}),"item-phone_number":i(s=>[t("span",_t,o(s.phone_number||"-"),1)]),"item-school_id":i(s=>[s.teacher&&s.teacher.school?(l(),u("span",wt,o(s.teacher.school.name),1)):(l(),u("span",Ct,"-"))]),"item-status":i(s=>{var p,$,j,F;return[t("span",{class:We({"inline-block rounded-full px-2 py-0.5 text-xs font-semibold":!0,"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200":((p=s.teacher)==null?void 0:p.status)==="pending","bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":(($=s.teacher)==null?void 0:$.status)==="approved","bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200":((j=s.teacher)==null?void 0:j.status)==="rejected"})},o(((F=s.teacher)==null?void 0:F.status)||"-"),3)]}),"item-actions":i(s=>[v((l(),u("button",{class:"inline-flex items-center justify-center rounded-full p-2 text-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-400 mr-1",onClick:p=>$e(s.id),"aria-label":"Edit Teacher",title:"Edit Teacher"},[m(be,{name:"edit",class:"w-5 h-5"})],8,St)),[[f,"update-teachers"]]),v((l(),u("button",{class:"inline-flex items-center justify-center rounded-full p-2 text-red-500 focus:outline-none focus:ring-2 focus:ring-red-400",onClick:p=>je(s.id),"aria-label":"Delete Teacher",title:"Delete Teacher"},[m(be,{name:"trash",class:"w-5 h-5"})],8,Pt)),[[f,"delete-teachers"]])]),"item-expand":i(s=>[t("button",{onClick:p=>Ve(s),class:"text-gray-500 hover:text-gray-700 cursor-pointer focus:outline-none focus:ring-2 focus:ring-primary rounded p-1 transition"},[S.value===s.id?(l(),u("svg",At,e[29]||(e[29]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 15l7-7 7 7"},null,-1)]))):(l(),u("svg",Vt,e[30]||(e[30]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)])))],8,Tt)]),expand:i(s=>{var p,$,j,F,ne,ie,de,ue,pe,ce,me,ve;return[S.value===s.id?(l(),u("div",$t,[t("div",jt,[t("div",Ft,[m(ye,{class:"w-16 h-16 shadow"},{default:i(()=>[s.profile_photo_url?(l(),g(ke,{key:0,src:s.profile_photo_url,alt:s.name},null,8,["src","alt"])):w("",!0),m(xe,null,{default:i(()=>[d(o(le(s.name)),1)]),_:2},1024)]),_:2},1024),t("div",null,[t("div",Ut,o(s.name),1),t("div",Dt,o(s.email),1),t("div",Mt,"@"+o(s.username),1)])]),t("div",Et,[t("div",It,[s.teacher&&s.teacher.school?(l(),u("span",Rt,o(s.teacher.school.name),1)):w("",!0),(l(!0),u(T,null,G(s.roles,U=>(l(),u("span",{key:U.id,class:"inline-block bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-200 rounded-full px-3 py-1 text-xs font-semibold"},o(U.name),1))),128))])]),t("div",Nt,[Ue.value&&((p=s.teacher)==null?void 0:p.status)!=="approved"?v((l(),g(P,{key:0,variant:"outline",onClick:U=>De(s.id)},{default:i(()=>e[31]||(e[31]=[d("Approve")])),_:2,__:[31]},1032,["onClick"])),[[f,"approve-teachers"]]):w("",!0),v((l(),g(P,{variant:"default",onClick:U=>Ie(s.id)},{default:i(()=>e[32]||(e[32]=[d("Reset Password")])),_:2,__:[32]},1032,["onClick"])),[[f,"reset-passwords"]])])]),t("div",Bt,[t("div",null,[e[41]||(e[41]=t("div",{class:"font-semibold text-gray-700 dark:text-gray-300 mb-2"},"Contact Information ",-1)),t("div",Lt,[e[33]||(e[33]=t("span",{class:"font-medium"},"Email:",-1)),d(" "+o(s.email),1)]),t("div",Ot,[e[34]||(e[34]=t("span",{class:"font-medium"},"Phone:",-1)),d(" "+o(s.phone_number||"-"),1)]),t("div",zt,[e[35]||(e[35]=t("span",{class:"font-medium"},"Username:",-1)),d(" "+o(s.username),1)]),t("div",Gt,[e[36]||(e[36]=t("span",{class:"font-medium"},"CNIC:",-1)),d(" "+o((($=s.teacher)==null?void 0:$.cnic)||"-"),1)]),t("div",Ht,[e[37]||(e[37]=t("span",{class:"font-medium"},"Gender:",-1)),d(" "+o(((j=s.teacher)==null?void 0:j.gender)||"-"),1)]),t("div",Wt,[e[38]||(e[38]=t("span",{class:"font-medium"},"Marital Status:",-1)),d(" "+o(((F=s.teacher)==null?void 0:F.marital_status)||"-"),1)]),t("div",qt,[e[39]||(e[39]=t("span",{class:"font-medium"},"Date of Birth:",-1)),d(" "+o(((ne=s.teacher)==null?void 0:ne.dob)||"-"),1)]),t("div",Xt,[e[40]||(e[40]=t("span",{class:"font-medium"},"Date of Joining:",-1)),d(" "+o(((ie=s.teacher)==null?void 0:ie.date_of_joining)||"-"),1)])]),t("div",null,[e[45]||(e[45]=t("div",{class:"font-semibold text-gray-700 dark:text-gray-300 mb-2"},"Classes & Affiliations ",-1)),t("div",Jt,[e[42]||(e[42]=t("span",{class:"font-medium"},"Class:",-1)),d(" "+o(((ue=(de=s.teacher)==null?void 0:de.class)==null?void 0:ue.name)||"-"),1)]),t("div",Kt,[e[43]||(e[43]=t("span",{class:"font-medium"},"Experience (years):",-1)),d(" "+o(((pe=s.teacher)==null?void 0:pe.experience_years)||"-"),1)]),t("div",Qt,[e[44]||(e[44]=t("span",{class:"font-medium"},"Salary:",-1)),d(" "+o(((ce=s.teacher)==null?void 0:ce.salary)||"-"),1)])]),t("div",null,[e[50]||(e[50]=t("div",{class:"font-semibold text-gray-700 dark:text-gray-300 mb-2"},"Other Details",-1)),t("div",Yt,[e[46]||(e[46]=t("span",{class:"font-medium"},"Status:",-1)),d(" "+o(((me=s.teacher)==null?void 0:me.status)||"-"),1)]),t("div",Zt,[e[47]||(e[47]=t("span",{class:"font-medium"},"School ID:",-1)),d(" "+o(((ve=s.teacher)==null?void 0:ve.school_id)||"-"),1)]),v((l(),u("div",null,[e[49]||(e[49]=t("div",{class:"font-semibold text-gray-700 dark:text-gray-300 mt-4 mb-2"},"Password",-1)),t("div",es,[t("span",ts,[h.value[s.id]?(l(),u(T,{key:0},[d(o(I.value[s.id]),1)],64)):(l(),u(T,{key:1},[d(" ••••••••• ")],64))]),t("button",{class:"text-gray-500 hover:text-primary-600 p-2",onClick:U=>Te(s)},[!h.value[s.id]&&!R.value[s.id]?(l(),g(n(st),{key:0,class:"w-5 h-5"})):h.value[s.id]&&!R.value[s.id]?(l(),g(n(rt),{key:1,class:"w-5 h-5"})):(l(),u("svg",rs,e[48]||(e[48]=[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8z"},null,-1)])))],8,ss)])])),[[f,"show-passwords"]])])])])):w("",!0)]}),_:1},8,["items","loading","server-options","server-items-length","expand-row-keys"])]),m(ge,{modelValue:A.value,"onUpdate:modelValue":e[7]||(e[7]=s=>A.value=s),title:"Delete Teacher",message:"Are you sure you want to delete this teacher? This action cannot be undone.","confirm-text":"Delete","cancel-text":"Cancel",onConfirm:re},{footer:i(()=>[t("div",as,[m(P,{variant:"outline",onClick:e[6]||(e[6]=s=>A.value=!1)},{default:i(()=>e[52]||(e[52]=[d("Cancel")])),_:1,__:[52]}),m(P,{variant:"destructive",onClick:re},{default:i(()=>e[53]||(e[53]=[d("Delete")])),_:1,__:[53]})])]),_:1},8,["modelValue"]),m(ge,{modelValue:te.value,"onUpdate:modelValue":e[8]||(e[8]=s=>te.value=s),title:we.value,message:Ce.value},null,8,["modelValue","title","message"]),N.value?(l(),g(Ze,{key:0,"user-id":J.value,onSuccess:Re,onCancel:e[9]||(e[9]=()=>N.value=!1)},null,8,["user-id"])):w("",!0),m(Je,{isSuperAdmin:!0,onSwitched:Fe}),m(n(Xe),{overlay:!0,"can-swipe":!0,"overlay-click-close":!0,"transition-duration":.5,ref_key:"filterSheet",ref:Y,class:"dark:bg-neutral-900"},{default:i(()=>[t("div",ls,[e[63]||(e[63]=t("h2",{class:"text-lg font-semibold mb-4"},"Teacher Filters",-1)),t("div",os,[t("div",ns,[e[55]||(e[55]=t("label",{for:"role-mobile",class:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1"},"Role",-1)),v(t("select",{id:"role-mobile","onUpdate:modelValue":e[10]||(e[10]=s=>n(a).role=s),class:"w-full border border-gray-300 dark:border-gray-600 rounded px-2 py-1 bg-white dark:bg-neutral-900"},e[54]||(e[54]=[t("option",{value:""},"All",-1),t("option",{value:"teacher"},"Teacher",-1),t("option",{value:"principal"},"Principal",-1)]),512),[[k,n(a).role]])]),t("div",is,[e[57]||(e[57]=t("label",{for:"gender-mobile",class:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1"},"Gender",-1)),v(t("select",{id:"gender-mobile","onUpdate:modelValue":e[11]||(e[11]=s=>n(a).gender=s),class:"w-full border border-gray-300 dark:border-gray-600 rounded px-2 py-1 bg-white dark:bg-neutral-900"},e[56]||(e[56]=[t("option",{value:""},"All",-1),t("option",{value:"Male"},"Male",-1),t("option",{value:"Female"},"Female",-1)]),512),[[k,n(a).gender]])]),t("div",ds,[e[59]||(e[59]=t("label",{for:"status-mobile",class:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1"},"Status",-1)),v(t("select",{id:"status-mobile","onUpdate:modelValue":e[12]||(e[12]=s=>n(a).status=s),class:"w-full border border-gray-300 dark:border-gray-600 rounded px-2 py-1 bg-white dark:bg-neutral-900"},e[58]||(e[58]=[t("option",{value:""},"All",-1),t("option",{value:"pending"},"Pending",-1),t("option",{value:"approved"},"Approved",-1),t("option",{value:"rejected"},"Rejected",-1)]),512),[[k,n(a).status]])]),t("div",us,[e[60]||(e[60]=t("label",{for:"search-mobile",class:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1"},"Search",-1)),v(t("input",{id:"search-mobile","onUpdate:modelValue":e[13]||(e[13]=s=>n(a).search=s),type:"text",placeholder:"Name, Email, CNIC, Contact",class:"w-full border border-gray-300 dark:border-gray-600 rounded px-2 py-0.5 bg-white dark:bg-neutral-900"},null,512),[[fe,n(a).search]])]),t("div",ps,[e[62]||(e[62]=t("label",{for:"school-mobile",class:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1"},"School",-1)),v(t("select",{id:"school-mobile","onUpdate:modelValue":e[14]||(e[14]=s=>n(a).school_id=s),disabled:L.value,class:"w-full border border-gray-300 dark:border-gray-600 rounded px-2 py-1 bg-white dark:bg-neutral-900"},[e[61]||(e[61]=t("option",{value:""},"All Schools",-1)),(l(!0),u(T,null,G(n(X),s=>(l(),u("option",{key:s.id,value:s.id},o(s.name),9,ms))),128))],8,cs),[[k,n(a).school_id]])])])])]),_:1},512),m(et,{modelValue:B.value,"onUpdate:modelValue":e[15]||(e[15]=s=>B.value=s),onSuccess:Ae,onCancel:Z},null,8,["modelValue"])]),_:1})}}}),Js=at(vs,[["__scopeId","data-v-341769bc"]]);export{Js as default};
