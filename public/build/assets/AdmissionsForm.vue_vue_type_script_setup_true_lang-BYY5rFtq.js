import{i as u,o as m,g as n,f as l,b as D,z as V,a4 as G,e as v,j as p,t as C,d as H,w as J,c as s,I as Q,_ as S,p as K}from"./app-oDzFbDpS.js";import{_ as t,a}from"./SelectInput-DixG2iKA.js";import{_ as W}from"./Label.vue_vue_type_script_setup_true_lang-BphRAz40.js";import{_ as q}from"./InputError.vue_vue_type_script_setup_true_lang-DL9oimPF.js";import{_ as X}from"./FileInput-BK6eYL8g.js";import{_ as k}from"./Icon.vue_vue_type_script_setup_true_lang-CktM08l_.js";const Y={class:"mb-4"},x={class:"flex items-center"},ee=["id","checked"],oe={key:0,class:"text-red-500"},g={__name:"CheckboxInput",props:{label:String,modelValue:Boolean,error:String,required:Boolean,id:{type:String,default:()=>Math.random().toString(36).substr(2,9)}},emits:["update:modelValue"],setup(i){return(h,f)=>(m(),u("div",Y,[n("div",x,[n("input",G({id:i.id,type:"checkbox",checked:i.modelValue,onChange:f[0]||(f[0]=b=>h.$emit("update:modelValue",b.target.checked)),class:"form-checkbox mr-2"},h.$attrs),null,16,ee),i.label?(m(),D(W,{key:0,for:i.id},{default:v(()=>[p(C(i.label),1),i.required?(m(),u("span",oe,"*")):V("",!0)]),_:1},8,["for"])):V("",!0)]),l(q,{message:i.error},null,8,["message"])]))}},re={class:"mb-6 p-4 bg-white dark:bg-neutral-800 rounded-lg shadow"},le={class:"text-xl font-bold mb-2 text-blue-700 dark:text-blue-300 flex items-center"},ae={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},te={class:"flex flex-wrap items-center gap-6 mt-2"},ne={class:"mt-4"},se={key:0},ie={key:0},de=["src"],me={key:1,class:"text-center mb-2"},ue={class:"mb-6 p-4 bg-white dark:bg-neutral-800 rounded-lg shadow"},pe={class:"text-lg font-semibold mb-2 text-green-700 dark:text-green-300 flex items-center"},fe={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},he={class:"mt-6 flex justify-end items-center gap-2"},Ue=H({__name:"AdmissionsForm",props:{form:{},errors:{},mode:{},classes:{},schools:{},existingPhoto:{}},emits:["submit","cancel"],setup(i,{emit:h}){const f=["pakistan","india","bangladesh","afghanistan","china","saudi arabia","united arab emirates","united states","united kingdom","canada","australia","turkey","iran","indonesia","malaysia","egypt","south africa","germany","france","italy","other"],b=["male","female","other"],j=["morning","evening","other"],N=["no disability","physical","visual","hearing","intellectual","other"],A=["islam","christianity","hinduism","other"],$=["unemployed","private/self employed","government","other"],w=["private/self employed","government","other"],I=["none","primary","middle","matric","intermediate","graduate","post graduate"],P=["house wife","private/self employed","government","other"],F=["income level between rs. 0 - 20,000","income level between rs. 20,001 - 27,000","income level between rs. 27,001 - 35,000","income level between rs. 35,001 - 50,000","income level above rs. 50,000"],O=["none","income level between rs. 0 - 20,000","income level between rs. 20,001 - 27,000","income level between rs. 27,001 - 35,000","income level between rs. 35,001 - 50,000","income level above rs. 50,000"],d=i;J(()=>d.schools,e=>{e.length===1&&!d.form.school_id&&(d.form.school_id=e[0].id)},{immediate:!0});const y=s(()=>d.form.profile_photo_path?URL.createObjectURL(d.form.profile_photo_path):d.existingPhoto?`/storage/${d.existingPhoto}`:null),M=s(()=>f.map(e=>({label:e.split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" "),value:e}))),B=s(()=>b.map(e=>({label:e.charAt(0).toUpperCase()+e.slice(1),value:e}))),E=s(()=>j.map(e=>({label:e.charAt(0).toUpperCase()+e.slice(1),value:e}))),_=s(()=>N.map(e=>({label:e.split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" "),value:e}))),T=s(()=>A.map(e=>({label:e.charAt(0).toUpperCase()+e.slice(1),value:e}))),L=s(()=>$.map(e=>({label:e.split("/").map(o=>o.split(" ").map(r=>r.charAt(0).toUpperCase()+r.slice(1)).join(" ")).join("/"),value:e}))),R=s(()=>w.map(e=>({label:e.split("/").map(o=>o.split(" ").map(r=>r.charAt(0).toUpperCase()+r.slice(1)).join(" ")).join("/"),value:e}))),c=s(()=>I.map(e=>({label:e.split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" "),value:e}))),z=s(()=>P.map(e=>({label:e.split("/").map(o=>o.split(" ").map(r=>r.charAt(0).toUpperCase()+r.slice(1)).join(" ")).join("/"),value:e}))),U=s(()=>F.map(e=>({label:e.split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" "),value:e}))),Z=s(()=>O.map(e=>({label:e==="none"?"None":e.split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" "),value:e})));return(e,o)=>(m(),u("form",{onSubmit:o[34]||(o[34]=K(r=>e.$emit("submit"),["prevent"])),enctype:"multipart/form-data"},[o[39]||(o[39]=Q('<div class="mb-4 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800"><h3 class="text-sm font-medium text-blue-800 dark:text-blue-200 mb-2"> Required Formats:</h3><div class="text-xs text-blue-700 dark:text-blue-300 space-y-1"><p><strong>Registration Number:</strong> 6-12 characters, letters and numbers only (e.g., STU2024001) </p><p><strong>Names:</strong> Letters and spaces only</p><p><strong>B-Form &amp; CNIC:</strong> Format: 12345-6789012-3</p><p><strong>Mobile Number:</strong> Must start with 03 and be 11 digits (e.g., 03001234567)</p><p><strong>Address:</strong> Minimum 10 characters</p></div></div>',1)),n("div",re,[n("h2",le,[l(k,{name:"user",class:"w-5 h-5 mr-2"}),o[35]||(o[35]=p(" Student Information "))]),n("div",ae,[l(t,{id:"nationality",modelValue:e.form.nationality,"onUpdate:modelValue":o[0]||(o[0]=r=>e.form.nationality=r),label:"Nationality",options:M.value,required:!0,error:e.errors.nationality,placeholder:"Select nationality"},null,8,["modelValue","options","error"]),l(a,{id:"registration_number",modelValue:e.form.registration_number,"onUpdate:modelValue":o[1]||(o[1]=r=>e.form.registration_number=r),label:"Registration Number",required:"",error:e.errors.registration_number,placeholder:"e.g. STU2024001",pattern:"[A-Z0-9]{6,12}",title:"6-12 characters, letters and numbers only"},null,8,["modelValue","error"]),l(a,{id:"name",modelValue:e.form.name,"onUpdate:modelValue":o[2]||(o[2]=r=>e.form.name=r),label:"Name",required:"",error:e.errors.name,placeholder:"Enter full name (letters and spaces only)",pattern:"[a-zA-Z\\s]+",title:"Letters and spaces only"},null,8,["modelValue","error"]),l(a,{id:"b_form_number",modelValue:e.form.b_form_number,"onUpdate:modelValue":o[3]||(o[3]=r=>e.form.b_form_number=r),label:"B-Form Number",required:"",error:e.errors.b_form_number,placeholder:"12345-6789012-3",pattern:"\\d{5}-\\d{7}-\\d{1}",title:"Format: 12345-6789012-3"},null,8,["modelValue","error"]),l(a,{id:"admission_date",modelValue:e.form.admission_date,"onUpdate:modelValue":o[4]||(o[4]=r=>e.form.admission_date=r),label:"Admission Date",type:"date",required:"",error:e.errors.admission_date,placeholder:"Select admission date"},null,8,["modelValue","error"]),l(a,{id:"date_of_birth",modelValue:e.form.date_of_birth,"onUpdate:modelValue":o[5]||(o[5]=r=>e.form.date_of_birth=r),label:"Date of Birth",type:"date",required:"",error:e.errors.date_of_birth,placeholder:"Select date of birth"},null,8,["modelValue","error"]),l(t,{id:"class_id",modelValue:e.form.class_id,"onUpdate:modelValue":o[6]||(o[6]=r=>e.form.class_id=r),label:"Class",options:e.classes,required:!0,error:e.errors.class_id,placeholder:"Select class"},null,8,["modelValue","options","error"]),l(t,{id:"gender",modelValue:e.form.gender,"onUpdate:modelValue":o[7]||(o[7]=r=>e.form.gender=r),label:"Gender",options:B.value,required:!0,error:e.errors.gender,placeholder:"Select gender"},null,8,["modelValue","options","error"]),l(t,{id:"class_shift",modelValue:e.form.class_shift,"onUpdate:modelValue":o[8]||(o[8]=r=>e.form.class_shift=r),label:"Class Shift",options:E.value,required:!0,error:e.errors.class_shift,placeholder:"Select class shift"},null,8,["modelValue","options","error"]),l(a,{id:"previous_school",modelValue:e.form.previous_school,"onUpdate:modelValue":o[9]||(o[9]=r=>e.form.previous_school=r),label:"Previous School",error:e.errors.previous_school,placeholder:"Enter previous school (if any)"},null,8,["modelValue","error"]),l(t,{id:"inclusive",modelValue:e.form.inclusive,"onUpdate:modelValue":o[10]||(o[10]=r=>e.form.inclusive=r),label:"Inclusive",options:_.value,required:!0,error:e.errors.inclusive,placeholder:"Select inclusivity"},null,8,["modelValue","options","error"]),l(a,{id:"other_inclusive_type",modelValue:e.form.other_inclusive_type,"onUpdate:modelValue":o[11]||(o[11]=r=>e.form.other_inclusive_type=r),label:"Other Inclusive Type",error:e.errors.other_inclusive_type,placeholder:"Specify if other"},null,8,["modelValue","error"]),l(t,{id:"religion",modelValue:e.form.religion,"onUpdate:modelValue":o[12]||(o[12]=r=>e.form.religion=r),label:"Religion",options:T.value,required:!0,error:e.errors.religion,placeholder:"Select religion"},null,8,["modelValue","options","error"]),n("div",te,[l(g,{modelValue:e.form.is_orphan,"onUpdate:modelValue":o[13]||(o[13]=r=>e.form.is_orphan=r),label:"Is Orphan",error:e.errors.is_orphan},null,8,["modelValue","error"]),l(g,{modelValue:e.form.is_bricklin,"onUpdate:modelValue":o[14]||(o[14]=r=>e.form.is_bricklin=r),label:"Is Bricklin",error:e.errors.is_bricklin},null,8,["modelValue","error"]),l(g,{modelValue:e.form.is_qsc,"onUpdate:modelValue":o[15]||(o[15]=r=>e.form.is_qsc=r),label:"Is QSC",error:e.errors.is_qsc},null,8,["modelValue","error"])])]),n("div",ne,[e.mode==="edit"?(m(),u("div",se,[y.value?(m(),u("div",ie,[n("img",{src:y.value,alt:"Profile Photo",class:"h-24 w-24 object-cover rounded-full border mb-2 mx-auto"},null,8,de)])):(m(),u("div",me,o[36]||(o[36]=[n("div",{class:"w-24 h-24 rounded-full bg-gray-200 dark:bg-gray-700 flex items-center justify-center mx-auto"},[n("span",{class:"text-gray-500 dark:text-gray-400 text-sm"},"No Photo")],-1)])))])):V("",!0),l(X,{id:"profile_photo_path",modelValue:e.form.profile_photo_path,"onUpdate:modelValue":o[16]||(o[16]=r=>e.form.profile_photo_path=r)},null,8,["modelValue"]),l(q,{message:e.errors.profile_photo_path},null,8,["message"])])]),n("div",ue,[n("h2",pe,[l(k,{name:"users",class:"w-5 h-5 mr-2"}),o[37]||(o[37]=p(" Family Information "))]),n("div",fe,[l(a,{id:"father_name",modelValue:e.form.father_name,"onUpdate:modelValue":o[17]||(o[17]=r=>e.form.father_name=r),label:"Father Name",required:"",error:e.errors.father_name,placeholder:"Enter father's name (letters and spaces only)",pattern:"[a-zA-Z\\s]+",title:"Letters and spaces only"},null,8,["modelValue","error"]),l(a,{id:"guardian_name",modelValue:e.form.guardian_name,"onUpdate:modelValue":o[18]||(o[18]=r=>e.form.guardian_name=r),label:"Guardian Name",error:e.errors.guardian_name,placeholder:"Enter guardian's name (if any)",pattern:"[a-zA-Z\\s]*",title:"Letters and spaces only"},null,8,["modelValue","error"]),l(a,{id:"father_cnic",modelValue:e.form.father_cnic,"onUpdate:modelValue":o[19]||(o[19]=r=>e.form.father_cnic=r),label:"Father CNIC",required:"",error:e.errors.father_cnic,placeholder:"12345-6789012-3",pattern:"\\d{5}-\\d{7}-\\d{1}",title:"Format: 12345-6789012-3"},null,8,["modelValue","error"]),l(a,{id:"mother_cnic",modelValue:e.form.mother_cnic,"onUpdate:modelValue":o[20]||(o[20]=r=>e.form.mother_cnic=r),label:"Mother CNIC",error:e.errors.mother_cnic,placeholder:"12345-6789012-3",pattern:"\\d{5}-\\d{7}-\\d{1}",title:"Format: 12345-6789012-3"},null,8,["modelValue","error"]),l(t,{id:"father_profession",modelValue:e.form.father_profession,"onUpdate:modelValue":o[21]||(o[21]=r=>e.form.father_profession=r),label:"Father Profession",options:L.value,required:!0,error:e.errors.father_profession,placeholder:"Select father's profession"},null,8,["modelValue","options","error"]),l(a,{id:"no_of_children",modelValue:e.form.no_of_children,"onUpdate:modelValue":o[22]||(o[22]=r=>e.form.no_of_children=r),label:"No of Children",type:"number",error:e.errors.no_of_children,placeholder:"Enter number of children (0-20)",min:"0",max:"20",title:"Number between 0 and 20"},null,8,["modelValue","error"]),l(t,{id:"job_type",modelValue:e.form.job_type,"onUpdate:modelValue":o[23]||(o[23]=r=>e.form.job_type=r),label:"Job Type",options:R.value,error:e.errors.job_type,placeholder:"Select job type"},null,8,["modelValue","options","error"]),l(t,{id:"father_education",modelValue:e.form.father_education,"onUpdate:modelValue":o[24]||(o[24]=r=>e.form.father_education=r),label:"Father Education",options:c.value,required:!0,error:e.errors.father_education,placeholder:"Select father's education"},null,8,["modelValue","options","error"]),l(t,{id:"mother_education",modelValue:e.form.mother_education,"onUpdate:modelValue":o[25]||(o[25]=r=>e.form.mother_education=r),label:"Mother Education",options:c.value,required:!0,error:e.errors.mother_education,placeholder:"Select mother's education"},null,8,["modelValue","options","error"]),l(t,{id:"mother_profession",modelValue:e.form.mother_profession,"onUpdate:modelValue":o[26]||(o[26]=r=>e.form.mother_profession=r),label:"Mother Profession",options:z.value,required:!0,error:e.errors.mother_profession,placeholder:"Select mother's profession"},null,8,["modelValue","options","error"]),l(t,{id:"father_income",modelValue:e.form.father_income,"onUpdate:modelValue":o[27]||(o[27]=r=>e.form.father_income=r),label:"Father Income",options:U.value,required:!0,error:e.errors.father_income,placeholder:"Select father's income"},null,8,["modelValue","options","error"]),l(t,{id:"mother_income",modelValue:e.form.mother_income,"onUpdate:modelValue":o[28]||(o[28]=r=>e.form.mother_income=r),label:"Mother Income",options:Z.value,error:e.errors.mother_income,placeholder:"Select mother's income"},null,8,["modelValue","options","error"]),l(t,{id:"household_income",modelValue:e.form.household_income,"onUpdate:modelValue":o[29]||(o[29]=r=>e.form.household_income=r),label:"Household Income",options:U.value,required:!0,error:e.errors.household_income,placeholder:"Select household income"},null,8,["modelValue","options","error"]),l(a,{id:"permanent_address",modelValue:e.form.permanent_address,"onUpdate:modelValue":o[30]||(o[30]=r=>e.form.permanent_address=r),label:"Permanent Address",required:"",error:e.errors.permanent_address,placeholder:"Enter permanent address (min 10 characters)",minlength:"10",maxlength:"500",title:"Address must be at least 10 characters long"},null,8,["modelValue","error"]),l(a,{id:"phone_no",modelValue:e.form.phone_no,"onUpdate:modelValue":o[31]||(o[31]=r=>e.form.phone_no=r),label:"Phone No",error:e.errors.phone_no,placeholder:"Enter phone number: e.g. 03001234567 or +923001234567",pattern:"^(03\\d{9}|\\+92\\d{10})$",title:"Must follow the format: 03001234567 or +923001234567"},null,8,["modelValue","error"]),l(a,{id:"mobile_no",modelValue:e.form.mobile_no,"onUpdate:modelValue":o[32]||(o[32]=r=>e.form.mobile_no=r),label:"Mobile No",required:"",error:e.errors.mobile_no,placeholder:"e.g. 03001234567 or +923001234567",pattern:"^(03\\d{9}|\\+92\\d{10})$",title:"Must follow the format: 03001234567 or +923001234567"},null,8,["modelValue","error"])])]),n("div",he,[l(S,{type:"submit",variant:"default",class:"h-9"},{default:v(()=>[p(C(e.mode==="edit"?"Update Student":"Add Student"),1)]),_:1}),l(S,{type:"button",variant:"secondary",onClick:o[33]||(o[33]=r=>e.$emit("cancel"))},{default:v(()=>o[38]||(o[38]=[p("Cancel")])),_:1,__:[38]})])],32))}});export{Ue as _};
