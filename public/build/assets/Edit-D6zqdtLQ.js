import{d as A,x as B,c as j,b as z,o as l,e as b,f as o,g as e,u as d,h as M,_ as f,j as u,p as N,k as g,A as k,n as h,i,F as _,m as w,t as C,v as V,K as F,z as D,W as R,l as S}from"./app-0hD9jktS.js";import{_ as W}from"./AppLayout.vue_vue_type_script_setup_true_lang-C_OfVMdc.js";import{_ as y}from"./InputError.vue_vue_type_script_setup_true_lang-BnFbo3YU.js";import"./RovingFocusGroup-BrsbekXI.js";import"./AvatarImage.vue_vue_type_script_setup_true_lang-DLhJV-ve.js";import"./AppLogo.vue_vue_type_script_setup_true_lang-DV00-4L5.js";import"./building-2-0J7JWYjO.js";import"./users-CQiJNf1m.js";import"./school-SWVnhMs_.js";import"./chevron-down-Bc9-FnA7.js";import"./check-DytFQTDT.js";const K={class:"max-w-7xl mx-auto w-full px-2 sm:px-4 md:px-6 lg:px-8 py-8"},L={class:"bg-white dark:bg-neutral-900 rounded-lg shadow-md p-6"},G={class:"flex items-center justify-between mb-6"},H={class:"bg-gray-50 dark:bg-neutral-800 rounded-lg p-4"},J={class:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4"},X=["value"],Y=["value"],Z={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},I=["value"],ee={class:"flex items-center space-x-4"},te={class:"flex items-center"},re={class:"bg-gray-50 dark:bg-neutral-800 rounded-lg p-4"},se={class:"flex items-center justify-between mb-4"},oe={key:0,class:"text-center py-8 text-gray-500 dark:text-gray-400"},ae={key:1,class:"space-y-4"},le={class:"flex items-center justify-between mb-3"},de={class:"font-medium text-gray-900 dark:text-gray-100"},ie={class:"mb-4"},ne=["onUpdate:modelValue"],ue={class:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4"},pe=["onUpdate:modelValue"],me=["onUpdate:modelValue"],ge={key:0,class:"mb-4"},ye={class:"space-y-2"},ce=["onUpdate:modelValue","placeholder"],be={class:"flex justify-end space-x-3"},xe={key:0},fe={key:1},Te=A({__name:"Edit",props:{paper:{},classes:{},sections:{},teachers:{}},setup(E){const p=E,s=B({title:p.paper.title,class_id:p.paper.class_id,section_id:p.paper.section_id||"",teacher_id:p.paper.teacher_id,published:p.paper.published,questions:p.paper.questions.map(a=>({text:a.text,type:a.type,options:a.options||["","","",""],answer:a.answer||""}))});function x(a){return s.errors[a]}const m=j(()=>s.errors);function U(){R.visit(route("papersquestions.index"))}function T(){s.questions.push({text:"",type:"",options:["","","",""],answer:""})}function P(a){s.questions.splice(a,1)}function Q(a){s.questions[a].options.push("")}function q(a,t){s.questions[a].options.splice(t,1)}function O(){s.put(route("papersquestions.update",p.paper.id),{onSuccess:()=>{S.success("Paper updated successfully!")},onError:a=>{a.error&&S.error(a.error)}})}return(a,t)=>(l(),z(W,null,{default:b(()=>[o(d(M),{title:"Edit Paper"}),e("div",K,[e("div",L,[e("div",G,[t[6]||(t[6]=e("h1",{class:"text-2xl font-bold text-gray-900 dark:text-gray-100"},"Edit Paper",-1)),o(f,{variant:"outline",onClick:U},{default:b(()=>t[5]||(t[5]=[u("Back to Papers")])),_:1,__:[5]})]),e("form",{onSubmit:N(O,["prevent"]),class:"space-y-6"},[e("div",H,[t[16]||(t[16]=e("h3",{class:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-4"},"Paper Information",-1)),e("div",J,[e("div",null,[t[7]||(t[7]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-2"},[u(" Paper Title "),e("span",{class:"text-red-500"},"*")],-1)),g(e("input",{"onUpdate:modelValue":t[0]||(t[0]=r=>d(s).title=r),type:"text",placeholder:"Enter paper title",class:k(["w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-neutral-900 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-1 focus:ring-primary-500 focus:border-primary-500",{"border-red-500":m.value.title}])},null,2),[[h,d(s).title]]),o(y,{message:m.value.title},null,8,["message"])]),e("div",null,[t[9]||(t[9]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-2"},[u(" Class "),e("span",{class:"text-red-500"},"*")],-1)),g(e("select",{"onUpdate:modelValue":t[1]||(t[1]=r=>d(s).class_id=r),class:k(["w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-neutral-900 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-1 focus:ring-primary-500 focus:border-primary-500",{"border-red-500":m.value.class_id}])},[t[8]||(t[8]=e("option",{value:""},"Select Class",-1)),(l(!0),i(_,null,w(p.classes,r=>(l(),i("option",{key:r.id,value:r.id},C(r.name),9,X))),128))],2),[[V,d(s).class_id]]),o(y,{message:m.value.class_id},null,8,["message"])]),e("div",null,[t[11]||(t[11]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-2"}," Section (Optional) ",-1)),g(e("select",{"onUpdate:modelValue":t[2]||(t[2]=r=>d(s).section_id=r),class:k(["w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-neutral-900 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-1 focus:ring-primary-500 focus:border-primary-500",{"border-red-500":m.value.section_id}])},[t[10]||(t[10]=e("option",{value:""},"Select Section",-1)),(l(!0),i(_,null,w(p.sections,r=>(l(),i("option",{key:r.id,value:r.id},C(r.name),9,Y))),128))],2),[[V,d(s).section_id]]),o(y,{message:m.value.section_id},null,8,["message"])])]),e("div",Z,[e("div",null,[t[13]||(t[13]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-2"},[u(" Teacher "),e("span",{class:"text-red-500"},"*")],-1)),g(e("select",{"onUpdate:modelValue":t[3]||(t[3]=r=>d(s).teacher_id=r),class:k(["w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-neutral-900 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-1 focus:ring-primary-500 focus:border-primary-500",{"border-red-500":m.value.teacher_id}])},[t[12]||(t[12]=e("option",{value:""},"Select Teacher",-1)),(l(!0),i(_,null,w(p.teachers,r=>(l(),i("option",{key:r.id,value:r.id},C(r.name),9,I))),128))],2),[[V,d(s).teacher_id]]),o(y,{message:m.value.teacher_id},null,8,["message"])]),e("div",null,[t[15]||(t[15]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-2"}," Status ",-1)),e("div",ee,[e("label",te,[g(e("input",{"onUpdate:modelValue":t[4]||(t[4]=r=>d(s).published=r),type:"checkbox",value:"true",class:"rounded border-gray-300 text-primary-600 shadow-sm focus:border-primary-300 focus:ring focus:ring-primary-200 focus:ring-opacity-50"},null,512),[[F,d(s).published]]),t[14]||(t[14]=e("span",{class:"ml-2 text-sm text-gray-700 dark:text-gray-200"},"Published",-1))])]),o(y,{message:m.value.published},null,8,["message"])])])]),e("div",re,[e("div",se,[t[18]||(t[18]=e("h3",{class:"text-lg font-medium text-gray-900 dark:text-gray-100"},"Questions",-1)),o(f,{type:"button",variant:"outline",onClick:T},{default:b(()=>t[17]||(t[17]=[u(" Add Question ")])),_:1,__:[17]})]),d(s).questions.length===0?(l(),i("div",oe,' No questions added yet. Click "Add Question" to get started. ')):(l(),i("div",ae,[(l(!0),i(_,null,w(d(s).questions,(r,n)=>(l(),i("div",{key:n,class:"border border-gray-200 dark:border-gray-700 rounded-lg p-4 bg-white dark:bg-neutral-900"},[e("div",le,[e("h4",de,"Question "+C(n+1),1),o(f,{type:"button",variant:"outline",size:"sm",onClick:c=>P(n),class:"text-red-600 hover:text-red-700"},{default:b(()=>t[19]||(t[19]=[u(" Remove ")])),_:2,__:[19]},1032,["onClick"])]),e("div",ie,[t[20]||(t[20]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-2"},[u(" Question Text "),e("span",{class:"text-red-500"},"*")],-1)),g(e("textarea",{"onUpdate:modelValue":c=>r.text=c,rows:"3",placeholder:"Enter your question...",class:k(["w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-neutral-900 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-1 focus:ring-primary-500 focus:border-primary-500",{"border-red-500":x(`questions.${n}.text`)}])},null,10,ne),[[h,r.text]]),o(y,{message:x(`questions.${n}.text`)},null,8,["message"])]),e("div",ue,[e("div",null,[t[22]||(t[22]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-2"},[u(" Question Type "),e("span",{class:"text-red-500"},"*")],-1)),g(e("select",{"onUpdate:modelValue":c=>r.type=c,class:k(["w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-neutral-900 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-1 focus:ring-primary-500 focus:border-primary-500",{"border-red-500":x(`questions.${n}.type`)}])},t[21]||(t[21]=[e("option",{value:""},"Select Type",-1),e("option",{value:"multiple_choice"},"Multiple Choice",-1),e("option",{value:"true_false"},"True/False",-1),e("option",{value:"short_answer"},"Short Answer",-1),e("option",{value:"essay"},"Essay",-1)]),10,pe),[[V,r.type]]),o(y,{message:x(`questions.${n}.type`)},null,8,["message"])]),e("div",null,[t[23]||(t[23]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-2"}," Correct Answer (Optional) ",-1)),g(e("input",{"onUpdate:modelValue":c=>r.answer=c,type:"text",placeholder:"Enter correct answer",class:k(["w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-neutral-900 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-1 focus:ring-primary-500 focus:border-primary-500",{"border-red-500":x(`questions.${n}.answer`)}])},null,10,me),[[h,r.answer]]),o(y,{message:x(`questions.${n}.answer`)},null,8,["message"])])]),r.type==="multiple_choice"?(l(),i("div",ge,[t[26]||(t[26]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-2"},[u(" Options "),e("span",{class:"text-red-500"},"*")],-1)),e("div",ye,[(l(!0),i(_,null,w(r.options,(c,v)=>(l(),i("div",{key:v,class:"flex gap-2"},[g(e("input",{"onUpdate:modelValue":$=>r.options[v]=$,type:"text",placeholder:`Option ${v+1}`,class:"flex-1 border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-neutral-900 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-1 focus:ring-primary-500 focus:border-primary-500"},null,8,ce),[[h,r.options[v]]]),o(f,{type:"button",variant:"outline",size:"sm",onClick:$=>q(n,v),class:"text-red-600 hover:text-red-700"},{default:b(()=>t[24]||(t[24]=[u(" Remove ")])),_:2,__:[24]},1032,["onClick"])]))),128)),o(f,{type:"button",variant:"outline",size:"sm",onClick:c=>Q(n)},{default:b(()=>t[25]||(t[25]=[u(" Add Option ")])),_:2,__:[25]},1032,["onClick"])]),o(y,{message:x(`questions.${n}.options`)},null,8,["message"])])):D("",!0)]))),128))]))]),e("div",be,[o(f,{type:"button",variant:"outline",onClick:U},{default:b(()=>t[27]||(t[27]=[u(" Cancel ")])),_:1,__:[27]}),o(f,{type:"submit",disabled:d(s).processing},{default:b(()=>[d(s).processing?(l(),i("span",xe,"Updating...")):(l(),i("span",fe,"Update Paper"))]),_:1},8,["disabled"])])],32)])])]),_:1}))}});export{Te as default};
