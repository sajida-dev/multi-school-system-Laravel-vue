import{q as ge,d as fe,r as x,s as he,c as h,L as ve,x as xe,w as U,H as be,y as _e,b as ye,o as d,e as p,f as l,g as e,u as o,h as ke,k as c,i as u,z as f,n as ee,F as w,m as S,t as r,v as g,j as a,N as we,_ as te,a as Se,W as se}from"./app-oDzFbDpS.js";import{F as Ce,l as Ae}from"./style-Dw9QIOcF.js";import{S as oe,U as b,F as T,C as le,B as Me,L as E,c as O,R as Fe,_ as Ve}from"./AppLayout.vue_vue_type_script_setup_true_lang-B8xcv65_.js";import{_ as Pe}from"./BaseDataTable.vue_vue_type_style_index_0_lang-dE9UHpEE.js";import{_ as re}from"./Icon.vue_vue_type_script_setup_true_lang-CktM08l_.js";import{u as Ne}from"./school-T4gwIvXC.js";import{C as F}from"./clipboard-list-BsqG52_M.js";import{G as Be,A as De}from"./AppLogo.vue_vue_type_script_setup_true_lang-Cob2K5o9.js";import{T as Ue}from"./trash-2-QMAKyD8L.js";import{U as L}from"./users-DDnJbTSp.js";import{B as ae}from"./book-open-NJHJ4pEX.js";import{B as Ie}from"./building-2-Dp0U14zc.js";import{_ as je}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./RovingFocusGroup-CLnOwjDo.js";import"./AvatarImage.vue_vue_type_script_setup_true_lang-DPNLz3sn.js";import"./chevron-down-SN-issHr.js";import"./check-CEIiCWnz.js";import"./loader-circle-Dd3mNCCo.js";import"./target-BvkpxWi2.js";import"./triangle-alert-DX_7JuLF.js";import"./refresh-cw-CWAu1Of8.js";import"./save-BhC_gGhx.js";import"./plus-DaPcSaFA.js";import"./arrow-right-Dpm9A9Fy.js";import"./arrow-left-DCJF3lDn.js";import"./eye-off-ByIEJSqi.js";import"./eye-DjBiqAnr.js";import"./shield-CQ-AXaLs.js";import"./square-pen-D5JRiJpv.js";import"./info-Cu4eEvQq.js";import"./calendar-NzJ3-Hzp.js";import"./house-CZga5bkn.js";import"./trash-Byk8sBRk.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=ge("PencilIcon",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]),Te={class:"max-w-6xl mx-auto w-full px-2 sm:px-4 md:px-0 py-8"},Ee={class:"mb-6"},Oe={class:"relative max-w-md"},Le={class:"flex lg:hidden justify-end mb-4"},Ge={class:"grid-cols-1 sm:grid-cols-2 lg:grid-cols-6 gap-4 mb-4 items-end hidden lg:grid"},Re={class:"flex flex-col"},ze=["disabled"],Ye=["value"],qe={class:"flex flex-col"},He=["value"],We={class:"flex flex-col"},Je=["value"],Qe={class:"flex flex-col"},Ke=["src"],Xe={key:1,class:"w-10 h-10 rounded-full bg-gray-200 dark:bg-gray-700 flex items-center justify-center text-xs font-medium text-gray-600 dark:text-gray-300"},Ze=["onClick"],et=["onClick"],tt=["onClick"],st={key:0,class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},ot={key:1,class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},lt={key:0,class:"p-6 bg-white dark:bg-neutral-800 rounded-xl shadow-md border border-gray-200 dark:border-neutral-700 transition-all duration-300"},rt={class:"flex flex-col md:flex-row items-center justify-between gap-4 mb-6"},at={class:"flex items-center gap-4"},it=["src"],nt={class:"text-2xl font-bold text-gray-800 dark:text-white"},dt={class:"text-sm text-gray-500 dark:text-gray-300 flex items-center gap-1"},ut={class:"text-sm text-gray-500 dark:text-gray-300 flex items-center gap-1"},ct={class:"text-sm text-gray-500 dark:text-gray-300 flex items-center gap-1"},mt={class:"flex gap-2"},pt=["onClick"],gt=["onClick"],ft={class:"mb-6"},ht={class:"flex items-center text-lg font-semibold text-blue-700 dark:text-blue-300 mb-4"},vt={class:"grid grid-cols-1 md:grid-cols-3 gap-2 text-sm"},xt={class:"flex items-center gap-2"},bt={class:"flex items-center gap-2"},_t={class:"flex items-center gap-2"},yt={class:"flex items-center gap-2"},kt={class:"flex items-center gap-2"},wt={class:"flex items-center gap-2"},St={class:"flex items-center gap-2"},Ct={class:"flex items-center gap-2"},At={class:"flex items-center gap-2"},Mt={key:0,class:"flex items-center gap-2"},Ft={class:"flex items-center gap-2"},Vt={class:"flex items-center gap-2"},Pt={class:"flex items-center gap-2"},Nt={class:"flex items-center text-lg font-semibold text-green-700 dark:text-green-300 mb-4"},Bt={class:"grid grid-cols-1 md:grid-cols-3 gap-2 text-sm"},Dt={class:"flex items-center gap-2"},Ut={class:"flex items-center gap-2"},It={class:"flex items-center gap-2"},jt={class:"flex items-center gap-2"},$t={class:"flex items-center gap-2"},Tt={class:"flex items-center gap-2"},Et={class:"flex items-center gap-2"},Ot={class:"flex items-center gap-2"},Lt={class:"flex items-center gap-2"},Gt={class:"flex items-center gap-2"},Rt={class:"flex items-center gap-2"},zt={class:"flex items-center gap-2"},Yt={class:"flex items-center gap-2"},qt={class:"flex items-center gap-2"},Ht={class:"flex items-center gap-2"},Wt={class:"flex items-center gap-2"},Jt={class:"border-t pt-4 mt-4"},Qt={class:"flex items-center gap-2 text-purple-700 dark:text-purple-300 font-semibold mb-2"},Kt={key:0},Xt={key:0},Zt={key:1},es={class:"mt-2"},ts=["src"],ss={key:1},os={key:0,class:"mt-2"},ls=["src"],rs={class:"flex gap-2 justify-end"},as={class:"sheet-content dark:bg-neutral-900"},is={class:"mb-4"},ns={class:"relative"},ds={class:"flex flex-col gap-4"},us={class:"flex flex-col"},cs=["disabled"],ms=["value"],ps={class:"flex flex-col"},gs=["value"],fs={class:"flex flex-col"},hs=["value"],vs={class:"flex flex-col"},xs={class:"flex flex-col"},bs="/storage/default-avatar.png",_s=fe({__name:"Index",setup(ys){var Z;const G=x();function ie(){var n;(n=G.value)==null||n.open()}const _=he(),V=h(()=>_.props.students),C=_.props.filters||{},R=h(()=>_.props.schools||[]),z=h(()=>_.props.auth||{}),ne=Ne(),{selectedSchool:I}=ve(ne),j=new Map,Y=h(()=>_.props.classes||[]),de=h(()=>_.props.sections||[]),A=x(de.value),ue=h(()=>{var t;return(Array.isArray((t=V.value)==null?void 0:t.data)?V.value.data:[]).map(m=>({...m,class:m.class?m.class.name:"",school:m.school?m.school.name:"",profile_photo_url:m.profile_photo_url||bs,fee:m.fee||null}))}),i=xe({class_id:C.class_id||"",section_id:C.section_id||"",school_id:((Z=I.value)==null?void 0:Z.id)||"",gender:C.gender||"",class_shift:C.class_shift||"",search:C.search||"",page:1,per_page:12});async function q(n){if(j.has(n)){A.value=j.get(n);return}try{const t=await Se.get(`/api/classes/${n}/sections`);j.set(n,t.data),A.value=t.data}catch(t){console.error("Failed to load sections:",t),A.value=[]}}U(i.class_id,n=>{i.section_id="",q(n)},{immediate:!0});const y=x(!1),v=x({page:1,rowsPerPage:12,sortBy:"",sortType:"",search:"",filters:{}});U(()=>V.value,n=>{n&&n.current_page&&(v.value.page=n.current_page,v.value.rowsPerPage=n.per_page||12)},{immediate:!0});const k=x(null),M=x(!1),P=x(null),ce=[{text:"Photo",value:"profile_photo_path",sortable:!1},{text:"Name",value:"name"},{text:"Reg #",value:"registration_number"},{text:"Class",value:"class"},{text:"School",value:"school"},{text:"Gender",value:"gender"},{text:"Mobile",value:"mobile_no"},{text:"Actions",value:"actions",sortable:!1}],me=[{title:"Dashboard",href:"/"},{title:"Students",href:"/students"}],H=h(()=>{var n;return((n=z.value.user)==null?void 0:n.schools)||[]}),$=h(()=>{var n;return H.value.length===1&&!((n=z.value.user)!=null&&n.isSuperAdmin)});be(()=>{var n;$.value?i.school_id=H.value[0].id:(n=I.value)!=null&&n.id&&(i.school_id=I.value.id)});let N;["school_id","class_id","section_id","gender","class_shift","search"].forEach(n=>{U(()=>i[n],()=>{clearTimeout(N),N=setTimeout(()=>{B()},500)})}),U(v,B,{deep:!0});function B(){y.value=!0,i.page=v.value.page,i.per_page=v.value.rowsPerPage,i.get("/students",{preserveState:!0,preserveScroll:!0,onFinish:()=>y.value=!1})}function pe(n){k.value=k.value===n.id?null:n.id}function W(n){se.visit(`/students/${n}/edit`)}function J(n){P.value=n,M.value=!0}function Q(){P.value&&(y.value=!0,se.delete(`/students/${P.value}`,{preserveState:!0,onSuccess:()=>{M.value=!1,P.value=null,y.value=!1},onError:()=>{y.value=!1}}))}function K(n){clearTimeout(N),N=setTimeout(()=>{B()},500)}function X(){i.search="",B()}return(n,t)=>{const m=_e("can");return d(),ye(Ve,{breadcrumbs:me},{default:p(()=>[l(o(ke),{title:"Students"}),e("div",Te,[t[43]||(t[43]=e("h1",{class:"text-2xl font-bold mb-6 text-gray-900 dark:text-gray-100"},"Students",-1)),e("div",Ee,[e("div",Oe,[t[17]||(t[17]=e("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[e("svg",{class:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1)),c(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>o(i).search=s),type:"text",placeholder:"Search students by name, registration number...",class:"block w-full pl-10 pr-10 py-2.5 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-neutral-900 text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-1 focus:ring-primary-500 focus:border-primary-500 transition-colors duration-200 text-sm",onInput:K},null,544),[[ee,o(i).search]]),o(i).search?(d(),u("button",{key:0,onClick:X,class:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors"},t[16]||(t[16]=[e("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))):f("",!0)])]),e("div",Le,[e("button",{onClick:ie,class:"flex items-center gap-2 p-2 rounded-full bg-primary-100 dark:bg-primary-900 hover:bg-primary-200 dark:hover:bg-primary-800 shadow transition",title:"Show filters for student records"},[l(o(Ce),{class:"w-6 h-6 text-primary-700 dark:text-primary-200"}),t[18]||(t[18]=e("span",{class:"text-primary-700 dark:text-primary-200 font-medium text-base"},"Filters",-1))])]),e("div",Ge,[e("div",Re,[t[20]||(t[20]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1"},"School",-1)),c(e("select",{"onUpdate:modelValue":t[1]||(t[1]=s=>o(i).school_id=s),disabled:$.value,class:"w-full border border-gray-300 dark:border-gray-600 rounded px-2 py-1 bg-white dark:bg-neutral-900"},[t[19]||(t[19]=e("option",{value:""},"All",-1)),(d(!0),u(w,null,S(R.value,s=>(d(),u("option",{key:s.id,value:s.id},r(s.name),9,Ye))),128))],8,ze),[[g,o(i).school_id]])]),e("div",qe,[t[22]||(t[22]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1"},"Class",-1)),c(e("select",{"onUpdate:modelValue":t[2]||(t[2]=s=>o(i).class_id=s),onChange:t[3]||(t[3]=s=>q(o(i).class_id)),class:"w-full border border-gray-300 dark:border-gray-600 rounded px-2 py-1 bg-white dark:bg-neutral-900"},[t[21]||(t[21]=e("option",{value:""},"All",-1)),(d(!0),u(w,null,S(Y.value,s=>(d(),u("option",{key:s.id,value:s.id},r(s.name),9,He))),128))],544),[[g,o(i).class_id]])]),e("div",We,[t[24]||(t[24]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1"},"Section",-1)),c(e("select",{"onUpdate:modelValue":t[4]||(t[4]=s=>o(i).section_id=s),class:"w-full border border-gray-300 dark:border-gray-600 rounded px-2 py-1 bg-white dark:bg-neutral-900"},[t[23]||(t[23]=e("option",{value:""},"All",-1)),(d(!0),u(w,null,S(A.value,s=>(d(),u("option",{key:s.id,value:s.id},r(s.name),9,Je))),128))],512),[[g,o(i).section_id]])]),e("div",Qe,[t[26]||(t[26]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1"},"Gender",-1)),c(e("select",{"onUpdate:modelValue":t[5]||(t[5]=s=>o(i).gender=s),class:"w-full border border-gray-300 dark:border-gray-600 rounded px-2 py-1 bg-white dark:bg-neutral-900"},t[25]||(t[25]=[e("option",{value:""},"All",-1),e("option",{value:"Male"},"Male",-1),e("option",{value:"Female"},"Female",-1),e("option",{value:"Other"},"Other",-1)]),512),[[g,o(i).gender]])]),e("div",null,[t[28]||(t[28]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1"},"Shift",-1)),c(e("select",{"onUpdate:modelValue":t[6]||(t[6]=s=>o(i).class_shift=s),class:"w-full border border-gray-300 dark:border-gray-600 rounded px-2 py-1 bg-white dark:bg-neutral-900"},t[27]||(t[27]=[e("option",{value:""},"All",-1),e("option",{value:"Morning"},"Morning",-1),e("option",{value:"Evening"},"Evening",-1),e("option",{value:"Other"},"Other",-1)]),512),[[g,o(i).class_shift]])])]),l(Pe,{headers:ce,items:ue.value,loading:y.value,"server-options":v.value,"server-items-length":V.value.total,expandable:!0,"expand-row-keys":k.value?[k.value]:[],"onUpdate:serverOptions":t[7]||(t[7]=s=>Object.assign(v.value,s)),"table-class":"bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-700 rounded-lg shadow-md hover:shadow-lg transition-all","row-class":"hover:bg-purple-50 dark:hover:bg-purple-900/60 transition cursor-pointer border-b border-neutral-100 dark:border-neutral-800"},{"item-profile_photo_path":p(s=>[s&&s.profile_photo_url?(d(),u("img",{key:0,src:s.profile_photo_url,alt:"Profile Photo",class:"w-10 h-10 rounded-full object-cover border"},null,8,Ke)):(d(),u("div",Xe,r((s==null?void 0:s.initials)||"NA"),1))]),"item-class":p(s=>[a(r(s.class||"-"),1)]),"item-school":p(s=>[a(r(s.school||"-"),1)]),"item-actions":p(s=>[s&&s.id!==void 0?c((d(),u("button",{key:0,class:"inline-flex items-center justify-center rounded-full p-2 text-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-400 mr-1",onClick:D=>W(s.id),"aria-label":"Edit Student",title:"Edit Student"},[l(re,{name:"edit",class:"w-5 h-5"})],8,Ze)),[[m,"update-students"]]):f("",!0),s&&s.id!==void 0?c((d(),u("button",{key:1,class:"inline-flex items-center justify-center rounded-full p-2 text-red-500 focus:outline-none focus:ring-2 focus:ring-red-400",onClick:D=>J(s.id),"aria-label":"Delete Student",title:"Delete Student"},[l(re,{name:"trash",class:"w-5 h-5"})],8,et)),[[m,"delete-students"]]):f("",!0)]),"item-expand":p(s=>[s&&s.id!==void 0?(d(),u("button",{key:0,onClick:D=>pe(s),class:"text-gray-500 hover:text-gray-700 cursor-pointer focus:outline-none focus:ring-2 focus:ring-primary rounded p-1 transition"},[k.value===s.id?(d(),u("svg",st,t[29]||(t[29]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 15l7-7 7 7"},null,-1)]))):(d(),u("svg",ot,t[30]||(t[30]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)])))],8,tt)):f("",!0)]),expand:p(s=>[s&&s.id!==void 0&&k.value===s.id?(d(),u("div",lt,[e("div",rt,[e("div",at,[s.profile_photo_url?(d(),u("img",{key:0,src:s.profile_photo_url,alt:"Profile Photo",class:"w-24 h-24 rounded-full object-cover border-4 border-purple-500 shadow-lg"},null,8,it)):f("",!0),e("div",null,[e("h2",nt,r(s.name),1),e("p",dt,[l(o(F),{class:"w-4 h-4"}),a(" Reg #: "+r(s.registration_number),1)]),e("p",ut,[l(o(Be),{class:"w-4 h-4"}),a(" Class: "+r(s.class)+" | Shift: "+r(s.class_shift),1)]),e("p",ct,[l(o(oe),{class:"w-4 h-4"}),a(" School: "+r(s.school),1)])])]),e("div",mt,[c((d(),u("button",{onClick:D=>W(s.id),"aria-label":"Edit Student",title:"Edit Student",class:"flex flex-row items-center gap-2 px-4 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 rounded"},[l(o($e),{class:"w-4 h-4"}),t[31]||(t[31]=e("span",null," Edit",-1))],8,pt)),[[m,"update-students"]]),c((d(),u("button",{onClick:D=>J(s.id),"aria-label":"Delete Student",title:"Delete Student",class:"flex flex-row items-center gap-2 px-4 py-2 text-sm font-medium text-white bg-red-600 hover:bg-red-700 rounded"},[l(o(Ue),{class:"w-4 h-4"}),t[32]||(t[32]=e("span",null," Delete",-1))],8,gt)),[[m,"delete-students"]])])]),t[41]||(t[41]=e("hr",{class:"my-4 border-gray-300 dark:border-gray-600"},null,-1)),e("div",ft,[e("h3",ht,[l(o(b),{class:"w-5 h-5 mr-2"}),t[33]||(t[33]=a(" Personal Information "))]),e("div",vt,[e("div",xt,[l(o(T),{class:"w-4 h-4"}),a(" Nationality: "+r(s.nationality),1)]),e("div",bt,[l(o(F),{class:"w-4 h-4"}),a(" B-Form #: "+r(s.b_form_number),1)]),e("div",_t,[l(o(le),{class:"w-4 h-4"}),a(" Admission Date: "+r(s.admission_date),1)]),e("div",yt,[l(o(le),{class:"w-4 h-4"}),a(" Date of Birth: "+r(s.date_of_birth),1)]),e("div",kt,[l(o(b),{class:"w-4 h-4"}),a(" Gender: "+r(s.gender),1)]),e("div",wt,[l(o(De),{class:"w-4 h-4"}),a(" Status: "+r(s.status),1)]),e("div",St,[l(o(oe),{class:"w-4 h-4"}),a(" Previous School: "+r(s.previous_school||"N/A"),1)]),e("div",Ct,[l(o(Me),{class:"w-4 h-4"}),a(" Religion: "+r(s.religion),1)]),e("div",At,[l(o(L),{class:"w-4 h-4"}),a(" Inclusive: "+r(s.inclusive),1)]),s.other_inclusive_type?(d(),u("div",Mt,[l(o(F),{class:"w-4 h-4"}),a(" Other Inclusive Type: "+r(s.other_inclusive_type),1)])):f("",!0),e("div",Ft,[l(o(b),{class:"w-4 h-4"}),a(" Orphan: "+r(s.is_orphan?"Yes":"No"),1)]),e("div",Vt,[l(o(b),{class:"w-4 h-4"}),a(" Bricklin: "+r(s.is_bricklin?"Yes":"No"),1)]),e("div",Pt,[l(o(b),{class:"w-4 h-4"}),a(" QSC: "+r(s.is_qsc?"Yes":"No"),1)])])]),t[42]||(t[42]=e("hr",{class:"my-4 border-gray-300 dark:border-gray-600"},null,-1)),e("div",null,[e("h3",Nt,[l(o(L),{class:"w-5 h-5 mr-2"}),t[34]||(t[34]=a(" Family Information "))]),e("div",Bt,[e("div",Dt,[l(o(b),{class:"w-4 h-4"}),a(" Father's Name: "+r(s.father_name),1)]),e("div",Ut,[l(o(b),{class:"w-4 h-4"}),a(" Guardian Name: "+r(s.guardian_name||"N/A"),1)]),e("div",It,[l(o(T),{class:"w-4 h-4"}),a(" Father CNIC: "+r(s.father_cnic),1)]),e("div",jt,[l(o(T),{class:"w-4 h-4"}),a(" Mother CNIC: "+r(s.mother_cnic||"N/A"),1)]),e("div",$t,[l(o(F),{class:"w-4 h-4"}),a(" Phone #: "+r(s.phone_no||"N/A"),1)]),e("div",Tt,[l(o(F),{class:"w-4 h-4"}),a(" Mobile #: "+r(s.mobile_no),1)]),e("div",Et,[l(o(E),{class:"w-4 h-4"}),a(" Father Profession: "+r(s.father_profession),1)]),e("div",Ot,[l(o(E),{class:"w-4 h-4"}),a(" Mother Profession: "+r(s.mother_profession),1)]),e("div",Lt,[l(o(L),{class:"w-4 h-4"}),a(" No. of Children: "+r(s.no_of_children||"N/A"),1)]),e("div",Gt,[l(o(E),{class:"w-4 h-4"}),a(" Job Type: "+r(s.job_type||"N/A"),1)]),e("div",Rt,[l(o(ae),{class:"w-4 h-4"}),a(" Father Education: "+r(s.father_education),1)]),e("div",zt,[l(o(ae),{class:"w-4 h-4"}),a(" Mother Education: "+r(s.mother_education),1)]),e("div",Yt,[l(o(O),{class:"w-4 h-4"}),a(" Father Income: "+r(s.father_income),1)]),e("div",qt,[l(o(O),{class:"w-4 h-4"}),a(" Mother Income: "+r(s.mother_income||"N/A"),1)]),e("div",Ht,[l(o(O),{class:"w-4 h-4"}),a(" Household Income: "+r(s.household_income),1)])]),e("div",Wt,[l(o(Ie),{class:"w-4 h-4"}),a(" Address: "+r(s.permanent_address),1)])]),e("div",Jt,[e("h3",Qt,[l(o(Fe),{class:"w-5 h-5"}),t[35]||(t[35]=a(" Voucher Status "))]),s.status!=="admitted"?(d(),u("div",Kt,[!s.fee||s.fee.status!=="paid"?(d(),u("div",Xt,t[36]||(t[36]=[e("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"Voucher not uploaded.",-1)]))):(d(),u("div",Zt,[t[38]||(t[38]=e("span",{class:"text-green-800 dark:text-green-700 font-semibold"},"Admitted",-1)),e("div",es,[t[37]||(t[37]=e("label",{class:"font-semibold"},"Paid Voucher Image:",-1)),e("img",{src:`/storage/${s.fee.paid_voucher_image}`,alt:"Paid Voucher",class:"w-40 h-auto border rounded mt-1"},null,8,ts)])]))])):(d(),u("div",ss,[t[40]||(t[40]=e("span",{class:"text-green-800 dark:text-green-700 font-semibold"},"Admitted",-1)),s.fee&&s.fee.paid_voucher_image?(d(),u("div",os,[t[39]||(t[39]=e("label",{class:"font-semibold"},"Paid Voucher Image:",-1)),e("img",{src:`/storage/${s.fee.paid_voucher_image}`,alt:"Paid Voucher",class:"w-40 h-auto border rounded mt-1"},null,8,ls)])):f("",!0)]))])])):f("",!0)]),_:1},8,["items","loading","server-options","server-items-length","expand-row-keys"])]),l(we,{modelValue:M.value,"onUpdate:modelValue":t[9]||(t[9]=s=>M.value=s),title:"Delete Student",message:"Are you sure you want to delete this student? This action cannot be undone.","confirm-text":"Delete","cancel-text":"Cancel",onConfirm:Q},{footer:p(()=>[e("div",rs,[l(te,{variant:"outline",onClick:t[8]||(t[8]=s=>M.value=!1)},{default:p(()=>t[44]||(t[44]=[a("Cancel")])),_:1,__:[44]}),l(te,{variant:"destructive",onClick:Q},{default:p(()=>t[45]||(t[45]=[a("Delete")])),_:1,__:[45]})])]),_:1},8,["modelValue"]),l(o(Ae),{overlay:!0,"can-swipe":!0,"overlay-click-close":!0,"transition-duration":.5,ref_key:"filterSheet",ref:G,class:"dark:bg-neutral-900"},{default:p(()=>[e("div",as,[t[58]||(t[58]=e("h2",{class:"text-lg font-semibold mb-4"},"Student Filters",-1)),e("div",is,[e("div",ns,[t[47]||(t[47]=e("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[e("svg",{class:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1)),c(e("input",{"onUpdate:modelValue":t[10]||(t[10]=s=>o(i).search=s),type:"text",placeholder:"Search students by name, registration number...",class:"block w-full pl-10 pr-10 py-2.5 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-neutral-900 text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-1 focus:ring-primary-500 focus:border-primary-500 transition-colors duration-200 text-sm",onInput:K},null,544),[[ee,o(i).search]]),o(i).search?(d(),u("button",{key:0,onClick:X,class:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors"},t[46]||(t[46]=[e("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))):f("",!0)])]),e("div",ds,[e("div",us,[t[49]||(t[49]=e("label",{for:"school-mobile",class:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1"},"School",-1)),c(e("select",{id:"school-mobile","onUpdate:modelValue":t[11]||(t[11]=s=>o(i).school_id=s),disabled:$.value,class:"w-full border border-gray-300 dark:border-gray-600 rounded px-2 py-1 bg-white dark:bg-neutral-900"},[t[48]||(t[48]=e("option",{value:""},"All",-1)),(d(!0),u(w,null,S(R.value,s=>(d(),u("option",{key:s.id,value:s.id},r(s.name),9,ms))),128))],8,cs),[[g,o(i).school_id]])]),e("div",ps,[t[51]||(t[51]=e("label",{for:"class-mobile",class:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1"},"Class",-1)),c(e("select",{id:"class-mobile","onUpdate:modelValue":t[12]||(t[12]=s=>o(i).class_id=s),class:"w-full border border-gray-300 dark:border-gray-600 rounded px-2 py-1 bg-white dark:bg-neutral-900"},[t[50]||(t[50]=e("option",{value:""},"All",-1)),(d(!0),u(w,null,S(Y.value,s=>(d(),u("option",{key:s.id,value:s.id},r(s.name),9,gs))),128))],512),[[g,o(i).class_id]])]),e("div",fs,[t[53]||(t[53]=e("label",{for:"section-mobile",class:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1"},"Section",-1)),c(e("select",{id:"section-mobile","onUpdate:modelValue":t[13]||(t[13]=s=>o(i).section_id=s),class:"w-full border border-gray-300 dark:border-gray-600 rounded px-2 py-1 bg-white dark:bg-neutral-900"},[t[52]||(t[52]=e("option",{value:""},"All",-1)),(d(!0),u(w,null,S(A.value,s=>(d(),u("option",{key:s.id,value:s.id},r(s.name),9,hs))),128))],512),[[g,o(i).section_id]])]),e("div",vs,[t[55]||(t[55]=e("label",{for:"gender-mobile",class:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1"},"Gender",-1)),c(e("select",{id:"gender-mobile","onUpdate:modelValue":t[14]||(t[14]=s=>o(i).gender=s),class:"w-full border border-gray-300 dark:border-gray-600 rounded px-2 py-1 bg-white dark:bg-neutral-900"},t[54]||(t[54]=[e("option",{value:""},"All",-1),e("option",{value:"Male"},"Male",-1),e("option",{value:"Female"},"Female",-1),e("option",{value:"Other"},"Other",-1)]),512),[[g,o(i).gender]])]),e("div",xs,[t[57]||(t[57]=e("label",{for:"shift-mobile",class:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1"},"Shift",-1)),c(e("select",{id:"shift-mobile","onUpdate:modelValue":t[15]||(t[15]=s=>o(i).class_shift=s),class:"w-full border border-gray-300 dark:border-gray-600 rounded px-2 py-1 bg-white dark:bg-neutral-900"},t[56]||(t[56]=[e("option",{value:""},"All",-1),e("option",{value:"Morning"},"Morning",-1),e("option",{value:"Evening"},"Evening",-1),e("option",{value:"Other"},"Other",-1)]),512),[[g,o(i).class_shift]])])])])]),_:1},512)]),_:1})}}}),so=je(_s,[["__scopeId","data-v-e95cf6ce"]]);export{so as default};
