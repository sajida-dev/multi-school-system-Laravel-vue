import{q as xe,a_ as Pe,r as g,d as Fe,s as Ie,c as z,L as Ue,x as Ne,H as me,w as G,l as j,y as Be,b as B,o as n,e as p,f as l,g as t,u as o,h as Me,k as m,i as d,z as h,n as pe,v as y,F as V,m as P,t as i,_ as k,j as r,N as fe,W as M}from"./app-0hD9jktS.js";import{u as De}from"./school-SWVnhMs_.js";import{S as Te,U as S,c as q,F as Z,C as ge,B as Re,L as $e,R as Ee,_ as Le}from"./AppLayout.vue_vue_type_script_setup_true_lang-C_OfVMdc.js";import{_ as Oe}from"./BaseDataTable.vue_vue_type_style_index_0_lang-CTigQWSr.js";import{U as Ye}from"./UploadVoucherModal-DC9_GClN.js";import{F as ze,l as Ge}from"./style-BhhzWR2R.js";import{C as ee}from"./clipboard-list-CVjOUuc6.js";import{G as qe,A as He}from"./AppLogo.vue_vue_type_script_setup_true_lang-DV00-4L5.js";import{B as te}from"./book-open-Dculjk7S.js";import{B as ve}from"./building-2-0J7JWYjO.js";import{U as D}from"./users-CQiJNf1m.js";import{S as We}from"./square-pen-QEAPgpV6.js";import{T as Je}from"./trash-hGn8IamB.js";import{P as Qe}from"./printer-8WQfVsfY.js";import{_ as Ke}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./RovingFocusGroup-BrsbekXI.js";import"./AvatarImage.vue_vue_type_script_setup_true_lang-DLhJV-ve.js";import"./chevron-down-Bc9-FnA7.js";import"./check-DytFQTDT.js";import"./FileInput-kSoIAmJU.js";import"./InputError.vue_vue_type_script_setup_true_lang-BnFbo3YU.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xe=xe("BanIcon",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=xe("PhoneIcon",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),Ze=Pe("admissions",()=>{const x=g([]);function H(v){x.value.find(_=>_.id===v.id)||x.value.unshift(v)}function b(v){const _=x.value.findIndex(T=>T.id===v.id);_!==-1&&(x.value[_]=v)}function c(v){x.value=x.value.filter(_=>_.id!==v)}return{students:x,addStudent:H,updateStudent:b,removeStudent:c}}),et={class:"max-w-6xl mx-auto w-full px-2 sm:px-4 md:px-0 py-8"},tt={class:"mb-6"},st={class:"relative max-w-md"},ot={class:"flex lg:hidden justify-end mb-4"},lt={class:"grid-cols-2 sm:grid-cols-1 lg:grid-cols-5 gap-4 mb-6 items-end hidden lg:grid"},at=["value"],rt=["value"],it={key:0},nt=["disabled"],dt=["value"],ut=["src"],ct=["onClick"],mt=["onClick"],pt=["onClick"],ft=["onClick"],gt=["onClick"],vt={key:0,class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},ht={key:1,class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},xt={key:0,class:"p-6 bg-white dark:bg-neutral-800 rounded-xl shadow border border-gray-200 dark:border-neutral-700 transition-all duration-300"},bt={class:"flex flex-col md:flex-row items-center justify-between gap-6 border-b pb-4 mb-6"},_t={class:"flex items-center gap-4"},yt=["src"],kt={class:"text-xl font-semibold text-gray-800 dark:text-white"},St={class:"text-sm text-gray-500 dark:text-gray-300 flex items-center gap-1"},wt={class:"text-sm text-gray-500 dark:text-gray-300 flex items-center gap-1"},Ct={class:"text-sm text-gray-500 dark:text-gray-300 flex items-center gap-1"},At={class:"flex gap-2 mt-4 md:mt-0"},jt={class:"mb-6"},Vt={class:"flex items-center text-lg font-semibold text-blue-700 dark:text-blue-300 mb-3"},Pt={class:"grid grid-cols-1 md:grid-cols-3 gap-3 text-sm"},Ft={class:"flex items-center gap-2"},It={class:"flex items-center gap-2"},Ut={class:"flex items-center gap-2"},Nt={class:"flex items-center gap-2"},Bt={class:"flex items-center gap-2"},Mt={class:"flex items-center gap-2"},Dt={class:"flex items-center gap-2"},Tt={class:"flex items-center gap-2"},Rt={class:"flex items-center gap-2"},$t={key:0,class:"flex items-center gap-2"},Et={class:"flex items-center gap-2"},Lt={class:"flex items-center gap-2"},Ot={class:"flex items-center gap-2"},Yt={class:"mb-6"},zt={class:"flex items-center text-lg font-semibold text-green-700 dark:text-green-300 mb-3"},Gt={class:"grid grid-cols-1 md:grid-cols-3 gap-3 text-sm"},qt={class:"flex items-center gap-2"},Ht={class:"flex items-center gap-2"},Wt={class:"flex items-center gap-2"},Jt={class:"flex items-center gap-2"},Qt={class:"flex items-center gap-2"},Kt={class:"flex items-center gap-2"},Xt={class:"flex items-center gap-2"},Zt={class:"flex items-center gap-2"},es={class:"flex items-center gap-2"},ts={class:"flex items-center gap-2"},ss={class:"flex items-center gap-2"},os={class:"flex items-center gap-2"},ls={class:"flex items-center gap-2"},as={class:"flex items-center gap-2"},rs={class:"flex items-center gap-2"},is={class:"flex items-center gap-2"},ns={class:"border-t pt-4 mt-4"},ds={class:"flex items-center gap-2 text-purple-700 dark:text-purple-300 font-semibold mb-2"},us={key:0},cs={key:0},ms={key:1},ps={class:"mt-2"},fs=["src"],gs={key:1},vs={key:0,class:"mt-2"},hs=["src"],xs={class:"flex gap-2 justify-end"},bs={class:"flex gap-2 justify-end"},_s={class:"sheet-content dark:bg-neutral-900"},ys={class:"mb-4"},ks={class:"relative"},Ss={class:"flex flex-col gap-4"},ws={class:"flex flex-col"},Cs={class:"flex flex-col"},As=["value"],js={class:"flex flex-col"},Vs=["value"],Ps={class:"flex flex-col"},Fs=["disabled"],Is=["value"],Us="/storage/default-profile.png",Ns=Fe({__name:"Index",setup(x){var ue;const H=[{title:"Student Admissions",href:"/admissions"}],b=Ie();Ze();const c=g(b.props.students),v=z(()=>b.props.auth||{user:{}}),_=De(),{classes:T,selectedSchool:W}=Ue(_),se=Array.from({length:10},(a,e)=>new Date().getFullYear()-e),R=b.props.filters||{},u=Ne({status:R.status||"",class_id:R.class_id||"",year:R.year||"",search:R.search||"",school_id:((ue=W.value)==null?void 0:ue.id)||""}),$=z(()=>{var a;return((a=v.value.user)==null?void 0:a.schools)||[]}),J=z(()=>{var a;return $.value.length===1&&!((a=v.value.user)!=null&&a.isSuperAdmin)});me(()=>{var a;J.value?u.school_id=$.value[0].id:(a=W.value)!=null&&a.id&&(u.school_id=W.value.id)});const oe=g();function be(){var a;(a=oe.value)==null||a.open()}let E;["status","class_id","year","search","school_id"].forEach(a=>{G(()=>u[a],()=>{clearTimeout(E),E=setTimeout(()=>{w()},500)})});const L=g(!1),F=g(c.value&&typeof c.value.total=="number"?c.value.total:0),Q=g({page:1,rowsPerPage:10,sortBy:"",sortType:"",search:"",filters:{}});function w(){L.value=!0,u.get(route("admissions.index"),{preserveState:!0,replace:!0,onSuccess:a=>{console.log("Fetch data success:",a.props.students),c.value=a.props.students,F.value=c.value&&typeof c.value.total=="number"?c.value.total:0,L.value=!1},onError:()=>{L.value=!1}})}G(Q,w,{deep:!0}),me(w);const _e=[{text:"Photo",value:"profile_photo",sortable:!1},{text:"Name",value:"name"},{text:"Reg #",value:"registration_number"},{text:"Class",value:"class"},{text:"Status",value:"status"},{text:"Admission Date",value:"admission_date"},{text:"Actions",value:"actions",sortable:!1,slotName:"item-actions"}],ye=z(()=>{var e;return(Array.isArray((e=c.value)==null?void 0:e.data)?c.value.data:[]).map(f=>(console.log("Processing student:",f.id,"fee:",f.fee),{...f,class:f.class?f.class.name:"",profile_photo_url:f.profile_photo_url||Us,fee:f.fee||null}))}),C=g(null);function ke(a){C.value=C.value===a.id?null:a.id}const I=g(!1),O=g(!1),U=g(null),Y=g(null),Se=()=>{M.get(route("admissions.create"))},le=a=>{M.get(route("admissions.edit",a))},we=a=>{U.value=a,I.value=!0},Ce=a=>{Y.value=a,O.value=!0},ae=()=>{U.value&&(M.delete(route("admissions.destroy",U.value),{onSuccess:()=>{j.success("Student deleted successfully."),c.value&&Array.isArray(c.value.data)&&(c.value.data=c.value.data.filter(a=>a.id!==U.value),F.value=Math.max(0,F.value-1)),U.value=null},onError:()=>j.error("Failed to delete student!")}),I.value=!1)};function Ae(a){M.get(route("fees.voucher",{student:a}))}g({});function re(){Y.value&&M.post(route("admissions.reject",Y.value),{},{onSuccess:()=>{if(j.success("Student rejected successfully."),c.value&&Array.isArray(c.value.data)){const a=c.value.data.findIndex(e=>e.id===Y.value);a!==-1&&(c.value.data[a].status="rejected")}},onError:()=>{j.error("Failed to reject student.")}})}const N=b.props.toast;N&&N.message&&N.type&&j(N.message,{type:N.type}),G(()=>b.props.students,a=>{c.value=a,F.value=(a==null?void 0:a.total)??0}),G(()=>b.props.toast,a=>{const e=a;e&&e.message&&e.type&&j(e.message,{type:e.type})});const K=g(!1),X=g(null);function je(a){X.value=a,K.value=!0}function ie(){K.value=!1,X.value=null}function Ve(){console.log("Voucher uploaded callback triggered"),w(),ie()}function ne(){clearTimeout(E),E=setTimeout(()=>{w()},500)}function de(){u.search="",w()}return(a,e)=>{const f=Be("can");return n(),B(Le,{breadcrumbs:H},{default:p(()=>{var ce;return[l(o(Me),{title:"Student Admissions"}),t("div",et,[e[40]||(e[40]=t("h1",{class:"text-2xl font-bold mb-6 text-gray-900 dark:text-gray-100"},"Student Admissions",-1)),t("div",tt,[t("div",st,[e[16]||(e[16]=t("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[t("svg",{class:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1)),m(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>o(u).search=s),type:"text",placeholder:"Search admissions by name, registration number...",class:"block w-full pl-10 pr-10 py-2.5 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-neutral-900 text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-1 focus:ring-primary-500 focus:border-primary-500 transition-colors duration-200 text-sm",onInput:ne},null,544),[[pe,o(u).search]]),o(u).search?(n(),d("button",{key:0,onClick:de,class:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors"},e[15]||(e[15]=[t("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))):h("",!0)])]),t("div",ot,[t("button",{onClick:be,class:"flex items-center gap-2 p-2 rounded-full bg-primary-100 dark:bg-primary-900 hover:bg-primary-200 dark:hover:bg-primary-800 shadow transition",title:"Show filters for admissions records"},[l(o(ze),{class:"w-6 h-6 text-primary-700 dark:text-primary-200"}),e[17]||(e[17]=t("span",{class:"text-primary-700 dark:text-primary-200 font-medium text-base"},"Filters",-1))])]),t("div",lt,[t("div",null,[e[19]||(e[19]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1"},"Status",-1)),m(t("select",{"onUpdate:modelValue":e[1]||(e[1]=s=>o(u).status=s),class:"w-full border border-gray-300 dark:border-gray-600 rounded px-2 py-1 bg-white dark:bg-neutral-900"},e[18]||(e[18]=[t("option",{value:""},"All",-1),t("option",{value:"applicant"},"Applicant",-1),t("option",{value:"admitted"},"Admitted",-1),t("option",{value:"rejected"},"Rejected",-1)]),512),[[y,o(u).status]])]),t("div",null,[e[21]||(e[21]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1"},"Class",-1)),m(t("select",{"onUpdate:modelValue":e[2]||(e[2]=s=>o(u).class_id=s),class:"w-full border border-gray-300 dark:border-gray-600 rounded px-2 py-1 bg-white dark:bg-neutral-900"},[e[20]||(e[20]=t("option",{value:""},"All",-1)),(n(!0),d(V,null,P(o(T),s=>(n(),d("option",{key:s.id,value:s.id},i(s.name),9,at))),128))],512),[[y,o(u).class_id]])]),t("div",null,[e[23]||(e[23]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1"},"Year",-1)),m(t("select",{"onUpdate:modelValue":e[3]||(e[3]=s=>o(u).year=s),class:"w-full border border-gray-300 dark:border-gray-600 rounded px-2 py-1 bg-white dark:bg-neutral-900"},[e[22]||(e[22]=t("option",{value:""},"All",-1)),(n(!0),d(V,null,P(o(se),s=>(n(),d("option",{key:s,value:s},i(s),9,rt))),128))],512),[[y,o(u).year]])]),(ce=v.value.user.roles)!=null&&ce.some(s=>s.name==="superadmin")?(n(),d("div",it,[e[25]||(e[25]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1"},"School",-1)),m(t("select",{"onUpdate:modelValue":e[4]||(e[4]=s=>o(u).school_id=s),disabled:J.value,class:"w-full border border-gray-300 dark:border-gray-600 rounded px-2 py-1 bg-white dark:bg-neutral-900"},[e[24]||(e[24]=t("option",{value:""},"All",-1)),(n(!0),d(V,null,P($.value,s=>(n(),d("option",{key:s.id,value:s.id},i(s.name),9,dt))),128))],8,nt),[[y,o(u).school_id]])])):h("",!0),m((n(),B(o(k),{variant:"default",size:"lg",class:"mr-2",onClick:Se},{default:p(()=>e[26]||(e[26]=[r("Add Student")])),_:1,__:[26]})),[[f,"create-admissions"]])]),l(Oe,{headers:_e,items:ye.value,loading:L.value,"server-options":Q.value,"server-items-length":F.value,expandable:!0,"expand-row-keys":C.value?[C.value]:[],"onUpdate:serverOptions":e[5]||(e[5]=s=>Object.assign(Q.value,s)),"table-class":"bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-700 rounded-lg shadow-md hover:shadow-lg transition-all","row-class":"hover:bg-purple-50 dark:hover:bg-purple-900/60 transition cursor-pointer border-b border-neutral-100 dark:border-neutral-800"},{"item-profile_photo":p(s=>[t("img",{src:s.profile_photo_url,alt:"Profile Photo",class:"w-10 h-10 rounded-full object-cover border"},null,8,ut)]),toolbar:p(()=>e[27]||(e[27]=[])),"item-actions":p(s=>[m((n(),d("button",{class:"inline-flex items-center justify-center rounded-full p-2 text-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-400 mr-1",onClick:A=>le(s.id),"aria-label":"Edit Student",title:"Edit Student"},[l(o(We),{class:"w-5 h-5"})],8,ct)),[[f,"update-admissions"]]),m((n(),d("button",{class:"inline-flex items-center justify-center rounded-full p-2 text-red-500 focus:outline-none focus:ring-2 focus:ring-red-400 mr-1",onClick:A=>we(s.id),"aria-label":"Delete Student",title:"Delete Student"},[l(o(Je),{class:"w-5 h-5"})],8,mt)),[[f,"delete-admissions"]]),m((n(),d("button",{class:"inline-flex items-center justify-center rounded-full p-2 text-green-600 focus:outline-none focus:ring-2 focus:ring-green-400",onClick:A=>Ae(s.id),"aria-label":"Print Voucher",title:"Print Voucher"},[l(o(Qe),{class:"w-5 h-5"})],8,pt)),[[f,"print-vouchers"]]),s.status==="applicant"?m((n(),d("button",{key:0,class:"inline-flex items-center justify-center rounded-full p-2 text-yellow-600 focus:outline-none focus:ring-2 focus:ring-yellow-400 ml-1",onClick:A=>Ce(s.id),"aria-label":"Reject Student",title:"Reject Student"},[l(o(Xe),{class:"w-5 h-5"})],8,ft)),[[f,"reject-admissions"]]):h("",!0)]),"item-expand":p(s=>[t("button",{onClick:A=>ke(s),class:"text-gray-500 hover:text-gray-700 cursor-pointer focus:outline-none focus:ring-2 focus:ring-primary rounded p-1 transition"},[C.value===s.id?(n(),d("svg",vt,e[28]||(e[28]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 15l7-7 7 7"},null,-1)]))):(n(),d("svg",ht,e[29]||(e[29]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)])))],8,gt)]),expand:p(s=>[C.value===s.id?(n(),d("div",xt,[t("div",bt,[t("div",_t,[t("img",{src:s.profile_photo_url,alt:"Profile Photo",class:"w-24 h-24 rounded-full object-cover border-4 border-purple-500"},null,8,yt),t("div",null,[t("h2",kt,i(s.name),1),t("p",St,[l(o(ee),{class:"w-4 h-4"}),r(" Registration #: "+i(s.registration_number),1)]),t("p",wt,[l(o(qe),{class:"w-4 h-4"}),r(" Class: "+i(s.class)+" - Shift: "+i(s.class_shift),1)]),t("p",Ct,[l(o(Te),{class:"w-4 h-4"}),r(" School: "+i(s.school),1)])])]),t("div",At,[m((n(),B(o(k),{onClick:A=>le(s.id),variant:"default",class:"text-sm"},{default:p(()=>[l(o(S),{class:"w-4 h-4 mr-2"}),e[30]||(e[30]=r(" Edit "))]),_:2,__:[30]},1032,["onClick"])),[[f,"update-admissions"]]),s.status==="applicant"?m((n(),B(o(k),{key:0,variant:"default",class:"bg-green-700 hover:bg-green-800 text-white text-sm",onClick:A=>je(s.id)},{default:p(()=>[l(o(q),{class:"w-4 h-4 mr-2"}),e[31]||(e[31]=r(" Upload Voucher "))]),_:2,__:[31]},1032,["onClick"])),[[f,"mark-as-paid"]]):h("",!0)])]),t("div",jt,[t("h3",Vt,[l(o(te),{class:"w-5 h-5"}),e[32]||(e[32]=r(" Personal Information "))]),t("div",Pt,[t("div",Ft,[l(o(Z),{class:"w-4 h-4"}),r(" Nationality: "+i(s.nationality),1)]),t("div",It,[l(o(ee),{class:"w-4 h-4"}),r(" B-Form #: "+i(s.b_form_number),1)]),t("div",Ut,[l(o(ge),{class:"w-4 h-4"}),r(" Admission Date: "+i(s.admission_date),1)]),t("div",Nt,[l(o(ge),{class:"w-4 h-4"}),r(" Date of Birth: "+i(s.date_of_birth),1)]),t("div",Bt,[l(o(S),{class:"w-4 h-4"}),r(" Gender: "+i(s.gender),1)]),t("div",Mt,[l(o(He),{class:"w-4 h-4"}),r(" Status: "+i(s.status),1)]),t("div",Dt,[l(o(ve),{class:"w-4 h-4"}),r(" Previous School: "+i(s.previous_school||"N/A"),1)]),t("div",Tt,[l(o(Re),{class:"w-4 h-4"}),r(" Religion: "+i(s.religion),1)]),t("div",Rt,[l(o(D),{class:"w-4 h-4"}),r(" Inclusive: "+i(s.inclusive),1)]),s.other_inclusive_type?(n(),d("div",$t,[l(o(ee),{class:"w-4 h-4"}),r(" Other: "+i(s.other_inclusive_type),1)])):h("",!0),t("div",Et,[l(o(S),{class:"w-4 h-4"}),r(" Orphan: "+i(s.is_orphan?"Yes":"No"),1)]),t("div",Lt,[l(o(S),{class:"w-4 h-4"}),r(" Bricklin: "+i(s.is_bricklin?"Yes":"No"),1)]),t("div",Ot,[l(o(S),{class:"w-4 h-4"}),r(" QSC: "+i(s.is_qsc?"Yes":"No"),1)])])]),t("div",Yt,[t("h3",zt,[l(o(D),{class:"w-5 h-5"}),e[33]||(e[33]=r(" Family Information "))]),t("div",Gt,[t("div",qt,[l(o(S),{class:"w-4 h-4"}),r(" Father's Name: "+i(s.father_name),1)]),t("div",Ht,[l(o(S),{class:"w-4 h-4"}),r(" Guardian Name: "+i(s.guardian_name||"N/A"),1)]),t("div",Wt,[l(o(Z),{class:"w-4 h-4"}),r(" Father CNIC: "+i(s.father_cnic),1)]),t("div",Jt,[l(o(Z),{class:"w-4 h-4"}),r(" Mother CNIC: "+i(s.mother_cnic||"N/A"),1)]),t("div",Qt,[l(o(he),{class:"w-4 h-4"}),r(" Phone: "+i(s.phone_no||"N/A"),1)]),t("div",Kt,[l(o(he),{class:"w-4 h-4"}),r(" Mobile: "+i(s.mobile_no),1)]),t("div",Xt,[l(o(D),{class:"w-4 h-4"}),r(" Father Profession: "+i(s.father_profession),1)]),t("div",Zt,[l(o(D),{class:"w-4 h-4"}),r(" Mother Profession: "+i(s.mother_profession),1)]),t("div",es,[l(o(te),{class:"w-4 h-4"}),r(" Father Education: "+i(s.father_education),1)]),t("div",ts,[l(o(te),{class:"w-4 h-4"}),r(" Mother Education: "+i(s.mother_education),1)]),t("div",ss,[l(o($e),{class:"w-4 h-4"}),r(" Job Type: "+i(s.job_type||"N/A"),1)]),t("div",os,[l(o(D),{class:"w-4 h-4"}),r(" No. of Children: "+i(s.no_of_children||"N/A"),1)]),t("div",ls,[l(o(q),{class:"w-4 h-4"}),r(" Father Income: "+i(s.father_income),1)]),t("div",as,[l(o(q),{class:"w-4 h-4"}),r(" Mother Income: "+i(s.mother_income||"N/A"),1)]),t("div",rs,[l(o(q),{class:"w-4 h-4"}),r(" Household Income: "+i(s.household_income),1)])]),t("div",is,[l(o(ve),{class:"w-4 h-4"}),r(" Address: "+i(s.permanent_address),1)])]),t("div",ns,[t("h3",ds,[l(o(Ee),{class:"w-5 h-5"}),e[34]||(e[34]=r(" Voucher Status "))]),s.status!=="admitted"?(n(),d("div",us,[!s.fee||s.fee.status!=="paid"?(n(),d("div",cs,e[35]||(e[35]=[t("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"Voucher not uploaded.",-1)]))):(n(),d("div",ms,[e[37]||(e[37]=t("span",{class:"text-green-800 dark:text-green-700 font-semibold"},"Admitted",-1)),t("div",ps,[e[36]||(e[36]=t("label",{class:"font-semibold"},"Paid Voucher Image:",-1)),t("img",{src:`/storage/${s.fee.paid_voucher_image}`,alt:"Paid Voucher",class:"w-40 h-auto border rounded mt-1"},null,8,fs)])]))])):(n(),d("div",gs,[e[39]||(e[39]=t("span",{class:"text-green-800 dark:text-green-700 font-semibold"},"Admitted",-1)),s.fee&&s.fee.paid_voucher_image?(n(),d("div",vs,[e[38]||(e[38]=t("label",{class:"font-semibold"},"Paid Voucher Image:",-1)),t("img",{src:`/storage/${s.fee.paid_voucher_image}`,alt:"Paid Voucher",class:"w-40 h-auto border rounded mt-1"},null,8,hs)])):h("",!0)]))]),K.value&&X.value===s.id?(n(),B(Ye,{key:0,id:s.id,submitUrl:"admissions.approve",onClose:ie,onUploaded:Ve},null,8,["id"])):h("",!0)])):h("",!0)]),_:1},8,["items","loading","server-options","server-items-length","expand-row-keys"])]),l(fe,{modelValue:I.value,"onUpdate:modelValue":e[7]||(e[7]=s=>I.value=s),title:"Delete Student",message:"Are you sure you want to delete this student? This action cannot be undone.","confirm-text":"Delete","cancel-text":"Cancel",onConfirm:ae},{footer:p(()=>[t("div",xs,[l(o(k),{variant:"outline",onClick:e[6]||(e[6]=s=>I.value=!1)},{default:p(()=>e[41]||(e[41]=[r("Cancel")])),_:1,__:[41]}),l(o(k),{variant:"destructive",onClick:ae},{default:p(()=>e[42]||(e[42]=[r("Delete")])),_:1,__:[42]})])]),_:1},8,["modelValue"]),l(fe,{modelValue:O.value,"onUpdate:modelValue":e[9]||(e[9]=s=>O.value=s),title:"Reject Student",message:"Are you sure you want to reject this student? This action cannot be undone.","confirm-text":"Reject","cancel-text":"Cancel",onConfirm:re},{footer:p(()=>[t("div",bs,[l(o(k),{variant:"outline",onClick:e[8]||(e[8]=s=>O.value=!1)},{default:p(()=>e[43]||(e[43]=[r("Cancel")])),_:1,__:[43]}),l(o(k),{variant:"destructive",onClick:re},{default:p(()=>e[44]||(e[44]=[r("Delete")])),_:1,__:[44]})])]),_:1},8,["modelValue"]),l(o(Ge),{overlay:!0,"can-swipe":!0,"overlay-click-close":!0,"transition-duration":.5,ref_key:"filterSheet",ref:oe,class:"dark:bg-neutral-900"},{default:p(()=>[t("div",_s,[e[55]||(e[55]=t("h2",{class:"text-lg font-semibold mb-4"},"Admission Filters",-1)),t("div",ys,[t("div",ks,[e[46]||(e[46]=t("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[t("svg",{class:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1)),m(t("input",{"onUpdate:modelValue":e[10]||(e[10]=s=>o(u).search=s),type:"text",placeholder:"Search admissions by name, registration number...",class:"block w-full pl-10 pr-10 py-2.5 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-neutral-900 text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-1 focus:ring-primary-500 focus:border-primary-500 transition-colors duration-200 text-sm",onInput:ne},null,544),[[pe,o(u).search]]),o(u).search?(n(),d("button",{key:0,onClick:de,class:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors"},e[45]||(e[45]=[t("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))):h("",!0)])]),t("div",Ss,[t("div",ws,[e[48]||(e[48]=t("label",{for:"status-mobile",class:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1"},"Status",-1)),m(t("select",{id:"status-mobile","onUpdate:modelValue":e[11]||(e[11]=s=>o(u).status=s),class:"w-full border border-gray-300 dark:border-gray-600 rounded px-2 py-1 bg-white dark:bg-neutral-900"},e[47]||(e[47]=[t("option",{value:""},"All",-1),t("option",{value:"applicant"},"Applicant",-1),t("option",{value:"admitted"},"Admitted",-1),t("option",{value:"rejected"},"Rejected",-1)]),512),[[y,o(u).status]])]),t("div",Cs,[e[50]||(e[50]=t("label",{for:"class-mobile",class:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1"},"Class",-1)),m(t("select",{id:"class-mobile","onUpdate:modelValue":e[12]||(e[12]=s=>o(u).class_id=s),class:"w-full border border-gray-300 dark:border-gray-600 rounded px-2 py-1 bg-white dark:bg-neutral-900"},[e[49]||(e[49]=t("option",{value:""},"All",-1)),(n(!0),d(V,null,P(o(T),s=>(n(),d("option",{key:s.id,value:s.id},i(s.name),9,As))),128))],512),[[y,o(u).class_id]])]),t("div",js,[e[52]||(e[52]=t("label",{for:"year-mobile",class:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1"},"Year",-1)),m(t("select",{id:"year-mobile","onUpdate:modelValue":e[13]||(e[13]=s=>o(u).year=s),class:"w-full border border-gray-300 dark:border-gray-600 rounded px-2 py-1 bg-white dark:bg-neutral-900"},[e[51]||(e[51]=t("option",{value:""},"All",-1)),(n(!0),d(V,null,P(o(se),s=>(n(),d("option",{key:s,value:s},i(s),9,Vs))),128))],512),[[y,o(u).year]])]),t("div",Ps,[e[54]||(e[54]=t("label",{for:"school-mobile",class:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1"},"School",-1)),m(t("select",{id:"school-mobile","onUpdate:modelValue":e[14]||(e[14]=s=>o(u).school_id=s),disabled:J.value,class:"w-full border border-gray-300 dark:border-gray-600 rounded px-2 py-1 bg-white dark:bg-neutral-900"},[e[53]||(e[53]=t("option",{value:""},"All",-1)),(n(!0),d(V,null,P($.value,s=>(n(),d("option",{key:s.id,value:s.id},i(s.name),9,Is))),128))],8,Fs),[[y,o(u).school_id]])])])])]),_:1},512)]}),_:1})}}}),so=Ke(Ns,[["__scopeId","data-v-89d7bca0"]]);export{so as default};
