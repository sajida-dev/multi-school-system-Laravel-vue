import{d as ce,r as b,x as fe,c as H,w as ge,y as xe,b as v,o as d,e as m,f as r,g as e,u as o,h as be,k as i,i as p,z as g,n as x,_ as y,j as n,v as U,t as u,A as ve,N as ye,W as C,l as J}from"./app-0hD9jktS.js";import{F as ke,l as _e}from"./style-BhhzWR2R.js";import{S as K,c as he,R as I,U as V,F as we,C as X,B as Ce,_ as Ve}from"./AppLayout.vue_vue_type_script_setup_true_lang-C_OfVMdc.js";import{_ as Fe}from"./BaseDataTable.vue_vue_type_style_index_0_lang-CTigQWSr.js";import{_ as Z}from"./Icon.vue_vue_type_script_setup_true_lang-DgG5U0yt.js";import{U as Se}from"./UploadVoucherModal-DC9_GClN.js";import{P as Ue}from"./plus-DX8dkZyx.js";import{C as B}from"./clipboard-list-CVjOUuc6.js";import{G as De,A as Ae}from"./AppLogo.vue_vue_type_script_setup_true_lang-DV00-4L5.js";import{P as Pe}from"./printer-8WQfVsfY.js";import{U as Te}from"./users-CQiJNf1m.js";import{_ as Ie}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./RovingFocusGroup-BrsbekXI.js";import"./AvatarImage.vue_vue_type_script_setup_true_lang-DLhJV-ve.js";import"./building-2-0J7JWYjO.js";import"./school-SWVnhMs_.js";import"./chevron-down-Bc9-FnA7.js";import"./check-DytFQTDT.js";import"./loader-circle-Dg-d1WoA.js";import"./target-nv-k3IQz.js";import"./triangle-alert-dLAnWNBM.js";import"./refresh-cw-DBp2ONfo.js";import"./save-DvCxJJrq.js";import"./arrow-right-yGz9ZWmd.js";import"./arrow-left-B5cZ3DqQ.js";import"./eye-off-B84CHv0x.js";import"./eye-Dtz9j6o0.js";import"./shield-BxF9Ptyz.js";import"./square-pen-QEAPgpV6.js";import"./info-DWKpZpD6.js";import"./calendar-DjniW4jB.js";import"./house-D65vkcx-.js";import"./book-open-Dculjk7S.js";import"./trash-hGn8IamB.js";import"./FileInput-kSoIAmJU.js";import"./InputError.vue_vue_type_script_setup_true_lang-BnFbo3YU.js";const Be={class:"max-w-7xl mx-auto w-full px-2 sm:px-4 md:px-6 lg:px-8 pt-8"},$e={class:"mb-6"},je={class:"relative max-w-md"},Me={class:"flex lg:hidden justify-between items-center mb-4 gap-3"},Ne={class:"grid-cols-1 sm:grid-cols-2 lg:grid-cols-6 gap-4 mb-6 items-end hidden lg:grid"},Ee={class:"flex flex-col"},Re={class:"flex flex-col"},Oe={class:"flex flex-col"},Le={class:"flex flex-col"},ze={class:"flex flex-col"},Ge={class:"flex flex-col"},Ye={class:"sheet-content dark:bg-neutral-900"},We={class:"mb-4"},qe={class:"relative"},Qe={class:"flex flex-col gap-4"},He={class:"flex flex-col"},Je={class:"flex flex-col"},Ke={class:"flex flex-col"},Xe={class:"flex gap-2"},Ze={class:"flex flex-col"},et={class:"flex flex-col"},tt={class:"max-w-7xl mx-auto w-full px-2 sm:px-4 md:px-6"},st={class:"inline-block bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 rounded-full px-2 py-0.5 text-xs font-semibold"},ot={class:"font-semibold"},lt=["onClick"],rt=["onClick"],at=["onClick"],nt={key:0,class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},dt={key:1,class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},it={key:0,class:"p-6 bg-white dark:bg-neutral-800 rounded-xl shadow border border-gray-200 dark:border-neutral-700 transition-all duration-300"},ut={class:"flex flex-col md:flex-row items-center justify-between gap-6 border-b pb-4 mb-6"},mt={class:"flex items-center gap-4"},pt=["src"],ct={class:"text-xl font-semibold text-gray-800 dark:text-white"},ft={class:"text-sm text-gray-500 dark:text-gray-300 flex items-center gap-1"},gt={class:"text-sm text-gray-500 dark:text-gray-300 flex items-center gap-1"},xt={class:"text-sm text-gray-500 dark:text-gray-300 flex items-center gap-1"},bt={class:"flex flex-col sm:flex-row gap-2 mt-4 md:mt-0"},vt={key:1},yt={class:"mb-6"},kt={class:"flex items-center text-lg font-semibold text-blue-700 dark:text-blue-300 mb-4"},_t={div:"",class:"grid grid-cols-1 md:grid-cols-3 gap-2 text-sm"},ht={class:"flex items-center gap-2"},wt={class:"flex items-center gap-2"},Ct={class:"flex items-center gap-2"},Vt={class:"flex items-center gap-2"},Ft={class:"flex items-center gap-2"},St={class:"flex items-center gap-2"},Ut={class:"flex items-center gap-2"},Dt={class:"flex items-center gap-2"},At={class:"flex items-center gap-2"},Pt={key:0,class:"flex items-center gap-2"},Tt={class:"flex items-center gap-2"},It={class:"flex items-center gap-2"},Bt={class:"flex items-center gap-2"},$t={class:"pt-4 mt-4"},jt={class:"flex items-center gap-2 text-purple-700 dark:text-purple-300 font-semibold mb-2"},Mt={key:0},Nt={key:0},Et={key:1},Rt={class:"mt-2"},Ot=["src"],Lt={key:1},zt={key:0,class:"mt-2"},Gt=["src"],Yt={class:"flex gap-2 justify-end"},Wt=ce({__name:"Index",props:{fees:{},filters:{}},setup(ee){var L,z,G,Y,W,q,Q;const k=b(null);function te(a){k.value=k.value===a.id?null:a.id}const c=ee,se=[{title:"Fees",href:route("fees.index")}];function oe(a){C.get(route("fees.voucher",{student:a}))}const F=b(),le=()=>{var a;(a=F==null?void 0:F.value)==null||a.open()},l=fe({search:((L=c.filters)==null?void 0:L.search)||"",type:((z=c.filters)==null?void 0:z.type)||"",status:((G=c.filters)==null?void 0:G.status)||"",due_date_from:((Y=c.filters)==null?void 0:Y.due_date_from)||"",due_date_to:((W=c.filters)==null?void 0:W.due_date_to)||"",amount:((q=c.filters)==null?void 0:q.amount)||"",student_id:((Q=c.filters)==null?void 0:Q.student_id)||""}),D=b(!1),$=b({page:c.fees.current_page,rowsPerPage:c.fees.per_page,sortBy:"",sortType:"",search:"",filters:{}}),re=H(()=>c.fees.total),ae=[{text:"#",value:"id"},{text:"Student",value:"student_name"},{text:"Type",value:"type"},{text:"Status",value:"status"},{text:"Amount",value:"amount"},{text:"Due Date",value:"due_date"},{text:"Actions",value:"actions",sortable:!1}],ne=H(()=>c.fees.data.map((a,t)=>{var f;return{id:a.id,student_name:((f=a.student)==null?void 0:f.name)||`Student #${a.id}`,type:a.type,status:a.status,amount:a.amount,due_date:a.due_date,fee:a}}));function de(){D.value=!0,l.get(route("fees.index"),{preserveState:!0,replace:!0,onSuccess:a=>{console.log("Fetch data success:",a.props.students)},onError:()=>{D.value=!1}})}const _=b(!1),w=b(null);function A(){l.get(route("fees.index"),{preserveState:!0,preserveScroll:!0,replace:!0})}let S;["search","type","status","due_date_from","due_date_to","amount","student_id"].forEach(a=>{ge(()=>l[a],()=>{clearTimeout(S),S=setTimeout(()=>{A()},500)})});function ie(a){C.visit(route("fees.edit",a))}function j(a){C.visit(route("installments.create",a))}function M(){C.visit(route("fees.create"))}function N(a){clearTimeout(S),S=setTimeout(()=>{A()},500)}function E(){l.search="",A()}function ue(a){w.value=a,_.value=!0}function R(){w.value&&C.delete(route("fees.destroy",w.value),{onSuccess:()=>{J.success("Fee deleted successfully"),_.value=!1,w.value=null},onError:()=>{J.error("Failed to delete fee"),_.value=!1,w.value=null}})}const P=b(!1),T=b(null);function me(a){T.value=a,P.value=!0}function O(){P.value=!1,T.value=null}function pe(){console.log("Voucher uploaded callback triggered"),de(),O()}return(a,t)=>{const f=xe("can");return d(),v(Ve,{breadcrumbs:se},{default:m(()=>[r(o(be),{title:"Fees"}),e("div",Be,[t[28]||(t[28]=e("h1",{class:"text-2xl font-bold mb-6 text-gray-900 dark:text-gray-100"},"Fees",-1)),e("div",$e,[e("div",je,[t[17]||(t[17]=e("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[e("svg",{class:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1)),i(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>o(l).search=s),type:"text",placeholder:"Search fees by student name, registration number...",class:"block w-full pl-10 pr-10 py-2.5 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-neutral-900 text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-1 focus:ring-primary-500 focus:border-primary-500 transition-colors duration-200 text-sm",onInput:N},null,544),[[x,o(l).search]]),o(l).search?(d(),p("button",{key:0,onClick:E,class:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors"},t[16]||(t[16]=[e("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))):g("",!0)])]),e("div",Me,[i((d(),v(y,{variant:"default",class:"h-10",onClick:M},{default:m(()=>[r(o(Ue),{class:"w-4 h-4 mr-2"}),t[18]||(t[18]=n(" Add Fee "))]),_:1,__:[18]})),[[f,"create-fees"]]),e("button",{onClick:le,class:"flex items-center gap-2 p-2 rounded-full bg-primary-100 dark:bg-primary-900 hover:bg-primary-200 dark:hover:bg-primary-800 shadow transition",title:"Show filters for fee records"},[r(o(ke),{class:"w-6 h-6 text-primary-700 dark:text-primary-200"}),t[19]||(t[19]=e("span",{class:"text-primary-700 dark:text-primary-200 font-medium text-base"},"Filters",-1))])]),e("div",Ne,[e("div",Ee,[t[21]||(t[21]=e("label",{for:"type",class:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1"},"Type",-1)),i(e("select",{id:"type","onUpdate:modelValue":t[1]||(t[1]=s=>o(l).type=s),class:"w-full border border-gray-300 dark:border-gray-600 rounded px-2 py-1.5 bg-white dark:bg-neutral-900"},t[20]||(t[20]=[e("option",{value:""},"All",-1),e("option",{value:"tuition"},"Tuition",-1),e("option",{value:"exam"},"Exam",-1),e("option",{value:"admission"},"Admission",-1),e("option",{value:"papers"},"Papers",-1)]),512),[[U,o(l).type]])]),e("div",Re,[t[23]||(t[23]=e("label",{for:"status",class:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1"},"Status",-1)),i(e("select",{id:"status","onUpdate:modelValue":t[2]||(t[2]=s=>o(l).status=s),class:"w-full border border-gray-300 dark:border-gray-600 rounded px-2 py-1.5 bg-white dark:bg-neutral-900"},t[22]||(t[22]=[e("option",{value:""},"All",-1),e("option",{value:"paid"},"Paid",-1),e("option",{value:"unpaid"},"Unpaid",-1),e("option",{value:"cancelled"},"Cancelled",-1)]),512),[[U,o(l).status]])]),e("div",Oe,[t[24]||(t[24]=e("label",{for:"due_date_from",class:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1"},"Due Date From",-1)),i(e("input",{id:"due_date_from","onUpdate:modelValue":t[3]||(t[3]=s=>o(l).due_date_from=s),type:"date",class:"w-full border border-gray-300 dark:border-gray-600 rounded px-2 py-1 bg-white dark:bg-neutral-900"},null,512),[[x,o(l).due_date_from]])]),e("div",Le,[t[25]||(t[25]=e("label",{for:"due_date_to",class:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1"},"Due Date To",-1)),i(e("input",{id:"due_date_to","onUpdate:modelValue":t[4]||(t[4]=s=>o(l).due_date_to=s),type:"date",class:"w-full border border-gray-300 dark:border-gray-600 rounded px-2 py-1 bg-white dark:bg-neutral-900"},null,512),[[x,o(l).due_date_to]])]),e("div",ze,[t[26]||(t[26]=e("label",{for:"amount",class:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1"},"Amount",-1)),i(e("input",{id:"amount","onUpdate:modelValue":t[5]||(t[5]=s=>o(l).amount=s),type:"number",min:"0",placeholder:"Amount",class:"w-full border border-gray-300 dark:border-gray-600 rounded px-2 py-1 bg-white dark:bg-neutral-900"},null,512),[[x,o(l).amount]])]),e("div",Ge,[i((d(),v(y,{variant:"default",class:"h-10",onClick:M},{default:m(()=>t[27]||(t[27]=[n("Add Fee")])),_:1,__:[27]})),[[f,"create-fees"]])])])]),r(o(_e),{overlay:!0,"can-swipe":!0,"overlay-click-close":!0,"transition-duration":.5,ref_key:"myBottomSheet",ref:F,class:"dark:bg-neutral-900"},{default:m(()=>[e("div",Ye,[t[38]||(t[38]=e("h2",{class:"text-lg font-semibold mb-4"},"Fee Filters",-1)),e("div",We,[e("div",qe,[t[30]||(t[30]=e("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[e("svg",{class:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1)),i(e("input",{"onUpdate:modelValue":t[6]||(t[6]=s=>o(l).search=s),type:"text",placeholder:"Search fees by student name, registration number...",class:"block w-full pl-10 pr-10 py-2.5 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-neutral-900 text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-1 focus:ring-primary-500 focus:border-primary-500 transition-colors duration-200 text-sm",onInput:N},null,544),[[x,o(l).search]]),o(l).search?(d(),p("button",{key:0,onClick:E,class:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors"},t[29]||(t[29]=[e("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))):g("",!0)])]),e("div",Qe,[e("div",He,[t[32]||(t[32]=e("label",{for:"type-mobile",class:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1"},"Type",-1)),i(e("select",{id:"type-mobile","onUpdate:modelValue":t[7]||(t[7]=s=>o(l).type=s),class:"w-full border border-gray-300 dark:border-gray-600 rounded px-2 py-1 bg-white dark:bg-neutral-900"},t[31]||(t[31]=[e("option",{value:""},"All",-1),e("option",{value:"tuition"},"Tuition",-1),e("option",{value:"exam"},"Exam",-1),e("option",{value:"admission"},"Admission",-1),e("option",{value:"papers"},"Papers",-1)]),512),[[U,o(l).type]])]),e("div",Je,[t[34]||(t[34]=e("label",{for:"status-mobile",class:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1"},"Status",-1)),i(e("select",{id:"status-mobile","onUpdate:modelValue":t[8]||(t[8]=s=>o(l).status=s),class:"w-full border border-gray-300 dark:border-gray-600 rounded px-2 py-1 bg-white dark:bg-neutral-900"},t[33]||(t[33]=[e("option",{value:""},"All",-1),e("option",{value:"paid"},"Paid",-1),e("option",{value:"unpaid"},"Unpaid",-1),e("option",{value:"cancelled"},"Cancelled",-1)]),512),[[U,o(l).status]])]),e("div",Ke,[t[35]||(t[35]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1"},"Due Date Range",-1)),e("div",Xe,[i(e("input",{type:"date","onUpdate:modelValue":t[9]||(t[9]=s=>o(l).due_date_from=s),class:"w-full border border-gray-300 dark:border-gray-600 rounded px-2 py-1 bg-white dark:bg-neutral-900",placeholder:"From"},null,512),[[x,o(l).due_date_from]]),i(e("input",{type:"date","onUpdate:modelValue":t[10]||(t[10]=s=>o(l).due_date_to=s),class:"w-full border border-gray-300 dark:border-gray-600 rounded px-2 py-1 bg-white dark:bg-neutral-900",placeholder:"To"},null,512),[[x,o(l).due_date_to]])])]),e("div",Ze,[t[36]||(t[36]=e("label",{for:"amount-mobile",class:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1"},"Amount",-1)),i(e("input",{id:"amount-mobile","onUpdate:modelValue":t[11]||(t[11]=s=>o(l).amount=s),type:"number",min:"0",placeholder:"Amount",class:"w-full border border-gray-300 dark:border-gray-600 rounded px-2 py-1 bg-white dark:bg-neutral-900"},null,512),[[x,o(l).amount]])]),e("div",et,[t[37]||(t[37]=e("label",{for:"student-mobile",class:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1"},"Student ID",-1)),i(e("input",{id:"student-mobile","onUpdate:modelValue":t[12]||(t[12]=s=>o(l).student_id=s),type:"number",min:"0",placeholder:"Student ID",class:"w-full border border-gray-300 dark:border-gray-600 rounded px-2 py-1 bg-white dark:bg-neutral-900"},null,512),[[x,o(l).student_id]])])])])]),_:1},512),e("div",tt,[r(Fe,{headers:ae,items:ne.value,loading:D.value,"server-options":$.value,"server-items-length":re.value,expandable:!0,"expand-row-keys":k.value?[k.value]:[],"onUpdate:serverOptions":t[13]||(t[13]=s=>Object.assign($.value,s)),"table-class":"bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-700 rounded-lg shadow-md hover:shadow-lg transition-all min-w-full","row-class":"hover:bg-purple-50 dark:hover:bg-purple-900/60 transition cursor-pointer border-b border-neutral-100 dark:border-neutral-800"},{"item-type":m(s=>[e("span",st,u(s.type),1)]),"item-status":m(s=>[e("span",{class:ve({"inline-block rounded-full px-2 py-0.5 text-xs font-semibold":!0,"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":s.status==="Paid","bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200":s.status==="Unpaid"})},u(s.status),3)]),"item-amount":m(s=>[e("span",ot,"Rs. "+u(s.amount.toLocaleString()),1)]),"item-actions":m(s=>[i((d(),p("button",{class:"inline-flex items-center justify-center rounded-full p-2 text-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-400 mr-1",onClick:h=>ie(s.id),"aria-label":"Edit Fee",title:"Edit Fee"},[r(Z,{name:"edit",class:"w-5 h-5"})],8,lt)),[[f,"update-fees"]]),i((d(),p("button",{class:"inline-flex items-center justify-center rounded-full p-2 text-red-500 focus:outline-none focus:ring-2 focus:ring-red-400",onClick:h=>ue(s.id),"aria-label":"Delete Fee",title:"Delete Fee"},[r(Z,{name:"trash",class:"w-5 h-5"})],8,rt)),[[f,"delete-fees"]])]),"item-expand":m(s=>[e("button",{onClick:h=>te(s),class:"text-gray-500 hover:text-gray-700 cursor-pointer focus:outline-none focus:ring-2 focus:ring-primary rounded p-1 transition"},[k.value===s.id?(d(),p("svg",nt,t[39]||(t[39]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 15l7-7 7 7"},null,-1)]))):(d(),p("svg",dt,t[40]||(t[40]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)])))],8,at)]),expand:m(s=>[k.value===s.id?(d(),p("div",it,[e("div",ut,[e("div",mt,[e("img",{src:s.fee.student.profile_photo_url,alt:"Profile Photo",class:"w-24 h-24 rounded-full object-cover border-4 border-purple-500"},null,8,pt),e("div",null,[e("h2",ct,u(s.student_name),1),e("p",ft,[r(o(B),{class:"w-4 h-4"}),n(" Registration #: "+u(s.fee.student.registration_number),1)]),e("p",gt,[r(o(De),{class:"w-4 h-4"}),n(" Class: "+u(s.fee.student.class.name)+" - Shift: "+u(s.fee.student.class_shift),1)]),e("p",xt,[r(o(K),{class:"w-4 h-4"}),n(" School: "+u(s.fee.student.school.name),1)])])]),e("div",bt,[i((d(),v(y,{variant:"default",class:"bg-indigo-700 hover:bg-indigo-800 text-white text-sm",onClick:h=>oe(s.id)},{default:m(()=>[r(o(Pe),{class:"w-4 h-4 mr-2"}),t[41]||(t[41]=n(" Print Voucher "))]),_:2,__:[41]},1032,["onClick"])),[[f,"print-vouchers"]]),s.status==="unpaid"?i((d(),v(y,{key:0,variant:"default",class:"bg-green-700 hover:bg-green-800 text-white text-sm",onClick:h=>me(s.id)},{default:m(()=>[r(o(he),{class:"w-4 h-4 mr-2"}),t[42]||(t[42]=n(" Upload Voucher "))]),_:2,__:[42]},1032,["onClick"])),[[f,"mark-as-paid"]]):g("",!0),s.status==="paid"?(d(),p("span",vt,t[43]||(t[43]=[e("span",{class:"text-green-800 dark:text-green-700 font-semibold"},"Paid",-1)]))):g("",!0),s.type==="monthly"&&s.status==="unpaid"?i((d(),v(y,{key:2,class:"bg-yellow-700 hover:bg-yellow-800 text-white text-sm",onClick:h=>j(s.id)},{default:m(()=>[r(o(I),{class:"w-4 h-4 mr-2"}),t[44]||(t[44]=n("Create Installments "))]),_:2,__:[44]},1032,["onClick"])),[[f,"create-installments"]]):s.type==="installments"?i((d(),v(y,{key:3,class:"bg-yellow-700 hover:bg-yellow-800 text-white text-sm",onClick:h=>j(s.id)},{default:m(()=>[r(o(I),{class:"w-4 h-4 mr-2"}),t[45]||(t[45]=n(" View Installments "))]),_:2,__:[45]},1032,["onClick"])),[[f,"view-installments"]]):g("",!0)])]),e("div",yt,[e("h3",kt,[r(o(V),{class:"w-5 h-5 mr-2"}),t[46]||(t[46]=n(" Personal Information "))]),e("div",_t,[e("div",ht,[r(o(we),{class:"w-4 h-4"}),n(" Nationality: "+u(s.fee.student.nationality),1)]),e("div",wt,[r(o(B),{class:"w-4 h-4"}),n(" B-Form #: "+u(s.fee.student.b_form_number),1)]),e("div",Ct,[r(o(X),{class:"w-4 h-4"}),n(" Admission Date: "+u(s.fee.student.admission_date),1)]),e("div",Vt,[r(o(X),{class:"w-4 h-4"}),n(" Date of Birth: "+u(s.fee.student.date_of_birth),1)]),e("div",Ft,[r(o(V),{class:"w-4 h-4"}),n(" Gender: "+u(s.fee.student.gender),1)]),e("div",St,[r(o(Ae),{class:"w-4 h-4"}),n(" Status: "+u(s.fee.student.status),1)]),e("div",Ut,[r(o(K),{class:"w-4 h-4"}),n(" Previous School: "+u(s.fee.student.previous_school||"N/A"),1)]),e("div",Dt,[r(o(Ce),{class:"w-4 h-4"}),n(" Religion: "+u(s.fee.student.religion),1)]),e("div",At,[r(o(Te),{class:"w-4 h-4"}),n(" Inclusive: "+u(s.fee.student.inclusive),1)]),s.other_inclusive_type?(d(),p("div",Pt,[r(o(B),{class:"w-4 h-4"}),n(" Other Inclusive Type: "+u(s.fee.student.other_inclusive_type),1)])):g("",!0),e("div",Tt,[r(o(V),{class:"w-4 h-4"}),n(" Orphan: "+u(s.fee.student.is_orphan?"Yes":"No"),1)]),e("div",It,[r(o(V),{class:"w-4 h-4"}),n(" Bricklin: "+u(s.fee.student.is_bricklin?"Yes":"No"),1)]),e("div",Bt,[r(o(V),{class:"w-4 h-4"}),n(" QSC: "+u(s.fee.student.is_qsc?"Yes":"No"),1)])])]),t[53]||(t[53]=e("hr",{class:"my-4 border-gray-300 dark:border-gray-600"},null,-1)),e("div",$t,[e("h3",jt,[r(o(I),{class:"w-5 h-5"}),t[47]||(t[47]=n(" Voucher Status "))]),s.status!=="admitted"?(d(),p("div",Mt,[!s.fee||s.fee.status!=="paid"?(d(),p("div",Nt,t[48]||(t[48]=[e("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"Voucher not uploaded.",-1)]))):(d(),p("div",Et,[t[50]||(t[50]=e("span",{class:"text-green-800 dark:text-green-700 font-semibold"},"Admitted",-1)),e("div",Rt,[t[49]||(t[49]=e("label",{class:"font-semibold"},"Paid Voucher Image:",-1)),e("img",{src:`/storage/${s.fee.paid_voucher_image}`,alt:"Paid Voucher",class:"w-40 h-auto border rounded mt-1"},null,8,Ot)])]))])):(d(),p("div",Lt,[t[52]||(t[52]=e("span",{class:"text-green-800 dark:text-green-700 font-semibold"},"Admitted",-1)),s.fee&&s.fee.paid_voucher_image?(d(),p("div",zt,[t[51]||(t[51]=e("label",{class:"font-semibold"},"Paid Voucher Image:",-1)),e("img",{src:`/storage/${s.fee.paid_voucher_image}`,alt:"Paid Voucher",class:"w-40 h-auto border rounded mt-1"},null,8,Gt)])):g("",!0)]))]),P.value&&T.value===s.id?(d(),v(Se,{key:0,id:s.id,submitUrl:"fees.markAsPaid",onClose:O,onUploaded:pe},null,8,["id"])):g("",!0)])):g("",!0)]),_:1},8,["items","loading","server-options","server-items-length","expand-row-keys"])]),r(ye,{modelValue:_.value,"onUpdate:modelValue":t[15]||(t[15]=s=>_.value=s),title:"Delete Fee",message:"Are you sure you want to delete this fee? This action cannot be undone.","confirm-text":"Delete","cancel-text":"Cancel",onConfirm:R},{footer:m(()=>[e("div",Yt,[r(y,{variant:"outline",onClick:t[14]||(t[14]=s=>_.value=!1)},{default:m(()=>t[54]||(t[54]=[n("Cancel")])),_:1,__:[54]}),r(y,{variant:"destructive",onClick:R},{default:m(()=>t[55]||(t[55]=[n("Delete")])),_:1,__:[55]})])]),_:1},8,["modelValue"])]),_:1})}}}),As=Ie(Wt,[["__scopeId","data-v-f31347c4"]]);export{As as default};
